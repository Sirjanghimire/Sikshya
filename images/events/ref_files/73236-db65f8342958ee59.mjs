"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["73236"],{894870:function(e,t,r){r.d(t,{q:()=>c});var n=r(667294),i=r(581722),a=r(616550),s=r(322830),o=r(575820),u=r(462867),l=r(513504);let c=()=>{let e=(0,a.TH)(),t=(0,u.Z)(),r=(0,i.I0)();return(0,n.useCallback)(()=>({name:"UserHomefeedResource",options:(0,s.Z)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(()=>{let e=t.isAuth&&t.firstHomeFeedRequestAfterNux;return e&&r((0,l.H5)(!1)),e})(),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,o.mB)(e.search).pwt_performance_testing)),inNewsHub:!!(e&&e.pathname.includes("news_hub"))})}),[r,t,e])}},680616:function(e,t,r){r.d(t,{Fy:()=>a,ZP:()=>s,_G:()=>i});var n=r(627973);let i=e=>n.Fd[e]??n.U5.MORE_IDEAS,a=e=>n.lJ[e]??0,s="/collage-creation-tool"},627973:function(e,t,r){r.d(t,{Fd:()=>_,Nc:()=>o,Sf:()=>s,U5:()=>p,Xu:()=>a,_4:()=>f,b6:()=>g,bP:()=>c,hb:()=>E,jz:()=>d,lJ:()=>m,m2:()=>i,pI:()=>l,qb:()=>u,yW:()=>n});let n=170,i=4,a=5,s=88,o=232,u=539,l=9/16,c=236,d=94,p={MORE_IDEAS:"MORE_IDEAS",DRAFTS:"DRAFTS",SEARCH:"SEARCH",YOUR_BOARDS:"YOUR_BOARDS"},_={0:"MORE_IDEAS",1:"YOUR_BOARDS",2:"DRAFTS",3:"SEARCH"},m={MORE_IDEAS:0,YOUR_BOARDS:1,DRAFTS:2,SEARCH:3},E=420,g=232,f="#ffffff"},322830:function(e,t,r){r.d(t,{Z:()=>n});let n=({inNux:e,inNewsHub:t,staticFeed:r,viewerIsPartner:n})=>({field_set_key:n?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,static_feed:r})},53596:function(e,t,r){r.d(t,{Z:()=>n});let n='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},865575:function(e,t,r){r.d(t,{Z:()=>p});var n=r(465989),i=r(575820),a=r(925201),s=r(918985);let o={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},u=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},l=e=>{let{campaignId:t,objectiveType:r,partialCreate:n,catalogsFeedId:i,managedClientId:s,catalogId:o,productGroupId:u,resumeLastDraft:l}=e,c={};return t&&n&&(c.campaignId=t),r&&(c.objectiveType=r),"CATALOG_SALES"===r&&i&&(c.catalogsFeedId=i),o&&(c.catalogId=o),u&&(c.productGroupId=u),s&&(c.managedClientId=s),l&&(c.resumeLastDraft=!0),(0,a.Z)("/ads/create/",c)},c=e=>{let{campaignToolPreference:t,...r}=e;return(0,a.Z)("/automated/ads/create/",r)},d={overview:()=>"/",reporting:e=>{let t=e.objectiveType||null;delete e.objectiveType;let r={...e,...u(t)};return(0,a.Z)("/reporting/campaigns/",r)},reportingAdGroup:e=>{let{campaignId:t,objectiveType:r,showAllEntities:n,adGroupId:i,message:s}=e,l={campaignIds:[t],...n?o:{},...u(r),...i?{adGroupIds:[i]}:{},message:s};return(0,a.Z)("/reporting/adgroups/",l)},campaign:e=>{let{id:t,objectiveType:r}=e;return(0,a.Z)("/reporting/adgroups/",{campaignIds:[t],...u(r)})},editCampaign:e=>e.isAutomatedCampaign?d.editAutomated({campaignId:e.id,view:"campaign"}):d.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{let{id:t,objectiveType:r,showAllEntities:n,pinPromotionId:i,campaignId:s}=e;return"TEMPORARY_SHOPPING"===r||"CATALOG_SALES"===r?(0,a.Z)("/reporting/productgroups/",{adGroupIds:[t],...u(r)}):(0,a.Z)("/reporting/ads/",{adGroupIds:[t],...u(r),...n?o:{},...i?{pinPromotionIds:[i]}:{},...s?{campaignIds:[s]}:{}})},editAdGroup:e=>e.isAutomatedCampaign?d.editAutomated({campaignId:e.id,view:"campaign"}):d.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{let{id:t,adFilter:r}=e;return(0,a.Z)("/reporting/ads/",{pinPromotionIds:[t],...r?{adFilter:r}:{}})},editPinPromotion:e=>{let t=e.isCreatingPins?{isCreatingPins:!0}:{},r=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return d.editV2({adGroupId:e.adGroupId,view:"ad",...r,...t})},productGroup:e=>{let{id:t,name:r}=e;return(0,a.Z)("/reporting/productgroups/",{productGroupIds:[t],name:r})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",bulkEdit:e=>{let{entity_level:t,ids:r}=e;return(0,a.Z)("/ads/bulk_edit/",{entity_level:t,ids:r})},productgroups:()=>"/reporting/productgroups/",productitems:()=>"/reporting/productitems/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>d.pinPromotion(e),createPreferred:e=>{switch(e.campaignToolPreference){case s.k.ADS_MANAGER:return l(e);case s.k.AUTOMATED_CAMPAIGN:return c(e);default:return(0,a.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)}},campaignMode:e=>(0,a.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:l,createAutomated:c,editV2:e=>(0,a.Z)("/ads/edit/",e),editAutomated:e=>(0,a.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,a.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,a.Z)("/ads/duplicate/",e),audiences:e=>(0,a.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{let{page:t,subSection:r,nextStepUrl:i}=e;switch(t){case n.kM.BILLING_HISTORY:return"/billing/history/";case n.kM.ORDER_LINES:return"/billing/order_lines/";case n.kM.PROMOTIONS:return"/billing/promotions/";case n.kM.DOCUMENTS:return"/billing/documents/";case n.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case n.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:let s={};return r&&(s.section=r),i&&(s.next_step_link_url=i),(0,a.Z)("/billing/",s)}},bulk:e=>{let{subSection:t,page:r,jobStarted:i}=e||{};switch(r){case n.fm.UPLOAD_TEMPLATE:return(0,a.Z)("/bulk_editor/upload_template/",{section:t});case n.fm.DOWNLOAD_TEMPLATE:return(0,a.Z)("/bulk_editor/download_template/",{section:t});case n.fm.HISTORY:return(0,a.Z)("/bulk_editor/history/",{section:t,job_started:i});case n.fm.BULK_ID_LIBRARY:return(0,a.Z)("/bulk_editor/bulk_id_library/",{section:t});case n.fm.RESOURCES:return(0,a.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},experiments:e=>{let{page:t,id:r}=e;switch(t){case n.S9.CREATE:return"/experiments/create/";case n.S9.VIEW_RESULTS:return"/experiments/view-results/";case n.S9.VIEW_REPORT:return`/experiments/view-results/${r}`;case n.S9.AB_TEST_CREATE:return"/experiments/ab-test/create";default:return"/experiments/"}},history:e=>(0,a.Z)("/history/",e),shopping:e=>d.reporting(u("TEMPORARY_SHOPPING")),pinterest_tag:e=>{let{page:t,subSection:r,platform:i,source:s,origin:o}=e;switch(t){case n.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case n.qp.PINTEREST_EVENT_HISTORY:if(s)return(0,a.Z)("/conversions/event-history/",{source:s});return"/conversions/event-history/";case n.qp.CONVERSION_HEALTH:return"/conversions/health/";case n.qp.PINTEREST_TEST_EVENTS:return(0,a.Z)("/conversions/test-events/",{subPage:r,platform:i});case n.qp.PINTEREST_TAG:return(0,a.Z)("/conversions/tag/",{subPage:r,platform:i});case n.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:let u=(0,a.Z)("/conversions/tag_manual_setup/",{origin:o});if(i)return(0,a.Z)(u,{platform:i,source:s});return u;case n.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case n.qp.CONVERSION_UPLOAD:return(0,a.Z)("/conversions/upload/",{subPage:r});case n.qp.UPLOAD_HISTORY:return(0,a.Z)("/conversions/history/",{subPage:r});case n.qp.PCA_UPLOAD_HISTORY:return(0,a.Z)("/conversions/pca_history/",{subPage:r});case n.qp.PCA_UPLOAD:return(0,a.Z)("/conversions/pca_upload/",{subPage:r});case n.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(s||o)return(0,a.Z)("/conversions/api_manual_setup/",{source:s,origin:o});return"/conversions/api_manual_setup/";case n.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(s||o)return(0,a.Z)("/conversions/api_partner_setup/",{source:s,origin:o});return"/conversions/api_partner_setup/";case n.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case n.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case n.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case n.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case n.qp.CONVERSIONS:return"/conversions/";case n.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/pinterest_capi_connect/";case n.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case n.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":e=>(0,a.Z)("/pin-builder/",e),purchases:()=>d.reporting(u("PURCHASE")),awareness_reserved:()=>d.reporting(u("IMPRESSION")),engagement:()=>d.reporting(u("BILLABLE_ENGAGEMENT")),videos:()=>d.reporting(u("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>d.reporting(u("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>d.reporting(u("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>d.reporting(u("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,a.Z)("/reporting/preferences/",e),report_builder:e=>(0,a.Z)("/report-center/builder/",e),report_history:e=>(0,a.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,a.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,a.Z)("/report-center/download/",e),awareness:()=>d.reporting(u("AWARENESS")),traffic:()=>d.reporting(u("TRAFFIC")),app_installs:()=>d.reporting(u("APP_INSTALL")),catalog_sales:()=>d.reporting(u("CATALOG_SALES")),web_conversion:()=>d.reporting(u("WEB_CONVERSION")),video_view:()=>d.reporting(u("VIDEO_VIEW")),quick_promote:e=>(0,a.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,a.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>{let t=`/campaign-insights/${e.campaignId}/`;if(e.queryParams){let{start_date:r,end_date:n,comp_start_date:a,comp_end_date:s}=e.queryParams;t+=`?${(0,i.XP)({start_date:r,end_date:n,comp_start_date:a,comp_end_date:s})}`}return t},product_group_reporting:e=>`/campaign-insights/${e.campaignId}/product-group/${e.productGroupId}`,media_planner:e=>(0,a.Z)("/media_planner/",e),ad_spend_optimizer:e=>(0,a.Z)("/msot-optimizer/",e)},p=d},763538:function(e,t,r){r.d(t,{YS:()=>o,eF:()=>u,m_:()=>s});var n=r(465989),i=r(236269),a=r(767415);function s(e,t,r,i,s){let o=new URLSearchParams,u=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);o.append(n.NR.SOURCE_EVENT_ID,e??"0"),o.append(n.NR.DESTINATION,JSON.stringify([...u])),o.append(n.NR.EXPIRY,r?n.uV:n.ug),o.append(n.NR.PRIORITY,r?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),s&&o.append(n.NR.ADVERTISER_ID,s),i&&o.append(n.NR.CAMPAIGN_ID,i),o.append(n.NR.SOURCE_EVENT_TYPE,r?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(n.NR.HOSTNAME,e)}catch(e){(0,a.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function o(e,t,r,n,o,u,l,c,d){let p;let{appType:_,osType:m}=u||{},E="",g="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||c||d)){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:_,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:_,osType:m}});return}E=s(r,[n,c,d],!1,o,l);try{g=new URL(window.location.href).hostname}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(g&&"www.pinterest.com"!==g)document.createElement("img").setAttribute("attributionsrc",E),(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:_,osType:m,hostname:g}});else if(!(p=await window.fetch(E,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:_,osType:m}})}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,i.Z)(e,"name"),message:(0,i.Z)(e,"message"),appType:_,osType:m,hostname:g,responseStatus:p&&p.status}})}}else(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:_,osType:m}})}function u(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},343669:function(e,t,r){r.d(t,{G6:()=>a,i7:()=>s,oi:()=>n,u$:()=>i,un:()=>u,vU:()=>o,w1:()=>l});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function a(e){return i(e)===n.SAFARI}function s(e){return i(e)===n.CHROME}function o(e){return i(e)===n.FIREFOX}function u(e){return i(e)===n.EDGE}function l(e){return i(e)===n.IE}},661376:function(e,t,r){r.d(t,{Z:()=>u});var n=r(667294),i=r(581722),a=r(647908),s=r(629972),o=r(957547);function u(e){let{enabledRouteRefresh:t,headers:r,name:u,noCache:l,options:c,schema:d}=e??{name:s.fY,options:null},p=(0,a.Z)(c),_=e=>e[u]?.[p],m=(0,i.v9)(({resources:e})=>_(e)?.nextBookmark),E=(0,i.v9)(({resources:e})=>_(e)?.data),g=(0,i.v9)(({resources:e})=>_(e)?.auxData),f=(0,i.v9)(({resources:e})=>_(e)?.error),{fetchResource:I,ref:{fetchMore:A,isFetching:R,isLoaded:S,isRefreshing:v,refresh:b}}=(0,o.Z)({enabledRouteRefresh:t,headers:r,name:u,noCache:l,options:c,schema:d},!e,!0),w=S&&!R&&m===s.qx;return(0,n.useEffect)(()=>{I()}),(0,n.useMemo)(()=>({auxData:g,data:E,error:f,fetchMore:A,isAtEnd:w,isFetching:R,isLoaded:S,isRefreshing:v,nextBookmark:m,refresh:b}),[g,E,f,A,w,R,S,v,m,b])}},281213:function(e,t,r){r.d(t,{W:()=>c,r:()=>l});var n=r(667294),i=r(230201),a=r(213491),s=r(613567),o=r(785893);let{Provider:u,useHook:l}=(0,a.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:r}=(0,i.v)(),{checkExperiment:a}=(0,s.F)(),[l,c]=(0,n.useState)(!1),[d,p]=(0,n.useState)([]),[_,m]=(0,n.useState)([]),[E,g]=(0,n.useState)({}),f=a("web_ads_mrc_video_impression").anyEnabled,I=e=>{g(t=>({...t,[e]:!0}))},A=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||r)&&p(t=>[...t,e].slice(-1e3))}},[f]),R=(0,n.useCallback)(e=>{18===e.eventType&&f&&m(t=>[...t,e].slice(-1e3))},[f]),S=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},v=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!E[r]||!f||(t(S(e)),!1)});e.length!==d.length&&p(e)},[d,f,t,E]),(0,n.useEffect)(()=>{let e=_.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(E[t]&&f){let t=v(e);return t&&r(t),!1}return!0});e.length!==_.length&&m(e)},[_,f,r,E]);let b=(0,n.useMemo)(()=>({captionsEnabled:l,logMrcVideoAdImpressionOnPlay:R,logMrcVideoAdEventOnPlay:A,setCaptionsEnabled:c,setVideoPlayed:I,videosPlayed:E}),[l,A,R,E]);return(0,o.jsx)(u,{value:b,children:e})}},190914:function(e,t,r){r.d(t,{K:()=>I,r:()=>A});var n=r(667294),i=r(213491),a=r(661376),s=r(462867),o=r(739258),u=r(888226),l=r(640200);let c=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,l.Z)(r)]=e[r]:t[(0,l.Z)(r)]=c(e[r]));return t},d=(e,t)=>{let r=[];for(let n in e)n!==t&&r.push({id:n,...c(e[n])});let n=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),i=new Map;for(let e of n)i.set(e.id,e);return i},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:i,disableProfileChanger:a,headerVisible:s}=r,o=(0,n.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]);return{changeProfile:o,toggleORBACVisibility:(0,n.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!i})},[t,e,i]),toggleDisableProfileChanger:(0,n.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!a})},[t,e,a]),toggleHeaderVisibility:(0,n.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!s})},[t,e,s])}},E=e=>{let[t,r]=(0,n.useReducer)(_,p),i=m({dispatch:r,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:s}=t;return(0,n.useEffect)(()=>{let e=(0,u.qn)("orbacActiveProfile",!1);e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(()=>{let e=(0,u.qn)("orbacVisibilty",!1);e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(()=>{(0,u.Nh)("orbacVisibility",s)},[s]),(0,n.useEffect)(()=>{(0,u.Nh)("orbacActiveProfile",a)},[a]),{state:t,actions:i,receiveProfiles:(0,n.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:d(e,t)})},[r])}};var g=r(785893);let{Provider:f,useMaybeHook:I}=(0,i.Z)("RoleBasedAccessControlContext"),A=({children:e})=>{let t;let r=(0,s.Z)(),i=!!(r.isAuth&&r.isPartner),{state:u,actions:l,receiveProfiles:c}=E(i),{activeProfile:d,headerVisible:p,profiles:_=[]}=u,m=_?Array.from(_.values()):[],I=(0,o.Z)(m),A=!!r.isAuth&&m.length>0&&I,R=r.isAuth?r.id:"",S=r.isAuth?r.username:"",{changeProfile:v,toggleORBACVisibility:b,toggleDisableProfileChanger:w,toggleHeaderVisibility:P}=l;(0,n.useEffect)(()=>{if(i){if("string"==typeof I){v(I);return}d||v(R)}},[I,R,i,v,d]),(0,n.useEffect)(()=>{i&&(A&&!p&&P(!0),!A&&p&&P(!1))},[P,A,i,p,_]);let{data:O}=(0,a.Z)(i?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),T=O?.profiles;r&&r.isAuth&&u.activeProfile===r.id?t={id:r.id,permissions:["OWNER"],user:{username:S,businessName:r.fullName,imgUrl:r.imageSmallUrl}}:d&&u.profiles&&(t=u.profiles.get(d)),(0,n.useEffect)(()=>{T&&c(T,R)},[c,T,R]);let h=u.profiles?Array.from(u.profiles.values()):[];return(0,g.jsx)(f,{value:{profiles:h,headerVisible:u.headerVisible,activeProfile:t,changeProfile:v,toggleORBACVisibility:b,toggleDisableProfileChanger:w,toggleHeaderVisibility:P},children:e})}},200619:function(e,t,r){r.d(t,{Z:()=>s});var n=r(613567),i=r(190914),a=r(739258);let s=()=>{let{checkExperiment:e}=(0,n.F)(),t=(0,i.K)(),{activeProfile:r}=t||{},s=(0,a.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return o&&!s?Object.freeze({}):r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},739258:function(e,t,r){r.d(t,{Z:()=>o});var n=r(616550),i=r(173874),a=r(462867),s=r(228612);let o=e=>{let t=(0,n.TH)(),r=(0,a.Z)(),o=(0,s.S6)(),u=(0,n.$B)("/:username"),l=u?.params?.username,c=(0,n.$B)("/pin/:id"),d=!!c?.params?.id&&o(c.params.id)?.pinner?.id;if((0,i.ej)(t))return!1;if((0,i.RU)(t)||(0,i.mY)(t))return!0;let p=e.concat(r.isAuth?{user:{username:r.username},id:r.id}:{}).find(e=>{let{user:t={},id:r}=e||{},{username:n}=t;return(!!n&&!!l||!!d&&!!r)&&(n===l||d===r)});return!!p&&p.id}},601871:function(e,t,r){r.d(t,{D3:()=>d,DX:()=>l,Fk:()=>n,KY:()=>p,Ms:()=>i,N1:()=>_,_P:()=>u,gJ:()=>a,lJ:()=>o,nl:()=>s,q6:()=>c});let n=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},i=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},a=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},s=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",u=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,l=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),d=(e,t,r)=>!!(c(e,t,r)||e&&e.isAuth&&t===e.id),p=(e,t,r)=>d(e,t&&t.owner&&t.owner.id||"",r);function _(e,t,r){return d(e,t?t.id:"",r)}},918985:function(e,t,r){r.d(t,{T:()=>i,k:()=>n});let n={ADS_MANAGER:"ADS_MANAGER",AUTOMATED_CAMPAIGN:"AUTOMATED_CAMPAIGN"},i=e=>Object.values(n).includes(e)},500602:function(e,t,r){r.d(t,{BO:()=>v,D5:()=>O,Dk:()=>P,GC:()=>h,GJ:()=>g,L7:()=>m,Lc:()=>c,Mh:()=>o,Qf:()=>l,Qq:()=>T,Xd:()=>N,bT:()=>A,bd:()=>I,df:()=>d,dg:()=>u,dv:()=>w,kl:()=>f,m6:()=>b,mT:()=>S,nQ:()=>y,pS:()=>R,qM:()=>C,xp:()=>_,yg:()=>p,zz:()=>E});var n=r(883119),i=r(876594),a=r(492601),s=r(386385);let o="right",u=o,l=72,c="VerticalNavContent",d=24,p="lg",_="compress",m=16,E=16,g=392,f=12,I=i.mJW,A=i.Kuk,R=new n.H3([s.NW]),S=new n.Ry(s.fe-3),v=new n.H3([R,a.kl]),b=new n.H3([R]),w=2,P=8,O=4,T=3,h=12,N=20,y=24,C={menuItemPadding:"12px",anchorOffset:"16px"}},492601:function(e,t,r){r.d(t,{Bq:()=>p,CZ:()=>u,Db:()=>c,Lu:()=>o,kl:()=>a,rC:()=>i,sb:()=>l,t3:()=>s,to:()=>d});var n=r(883119);let i="full-height-inbox-panel",a=new n.Ry(700),s="defaultInboxView",o="newMessageView",u="newMessageSelectRecipientsView",l="invitesRequestsView",c="followInviteEducationView",d=64,p="conversationView"},38359:function(e,t,r){r.d(t,{Du:()=>Z,HY:()=>U,Hn:()=>d,Jw:()=>A,L7:()=>n,LT:()=>p,Nw:()=>O,Q_:()=>P,Qc:()=>i,Qv:()=>h,R5:()=>N,RA:()=>T,Tt:()=>C,UF:()=>l,UV:()=>s,VB:()=>S,W1:()=>a,Ws:()=>_,X5:()=>y,Yt:()=>L,ZW:()=>u,cK:()=>v,cy:()=>I,gm:()=>R,h7:()=>w,k:()=>g,o4:()=>E,oL:()=>V,pK:()=>D,qf:()=>m,tr:()=>c,uD:()=>b,uO:()=>f,vF:()=>o});let n=1,i=2,a="female",s="male",o="unspecified",u="en-US",l="US",c=3,d="has_done_closeup",p="Welcome",_="Gender",m="CountryLocale",E="InterestPicker",g="UseCase",f="PinPicker",I="LoadingStep",A="AppInstall",R="NUX_PIN_PICKER_STEP_STATUS",S="NUX_USE_CASE_STEP_STATUS",v={NUX_GENDER_STEP_NAME:_,NUX_INTEREST_PICKER_STEP_NAME:E,NUX_USE_CASE_STEP_NAME:g,NUX_PIN_PICKER_STEP_NAME:f,NUX_LOADING_STEP_NAME:I,NUX_APP_INSTALL_STEP_NAME:A},b=2,w=3,P=6,O=112,T=160,h=270,N=60,y=1e3,C=2500,D=3,L=1,U=3,Z=5e3,V=250},513504:function(e,t,r){r.d(t,{H5:()=>u,Nq:()=>o,Q_:()=>l,bJ:()=>c});var n=r(27399),i=r(236269),a=r(554092),s=r(38359);function o(e){let{updateUserData:t}=e,r={},o=null;if(t.gender&&[s.W1,s.UV].includes(t.gender)?r.gender=t.gender:t.custom_gender&&(r.custom_gender=t.custom_gender,r.customGender=t.custom_gender,r.gender=s.vF),t.age?r.age=t.age:t.birthdate&&(r.birthdate=t.birthdate),t.locale&&(r.locale=t.locale),t.country&&(r.country=t.country),t.business_vertical&&(r.businessVertical=t.business_vertical),t.business_vertical_other&&(r.businessVerticalOther=t.business_vertical_other),t.number_employees&&(r.numberEmployees=t.number_employees),t.first_name&&(r.firstName=t.first_name),t.last_name&&(r.lastName=t.last_name),t.full_name&&(r.fullName=t.full_name),t.parent_email&&(r.parentEmail=t.parent_email),t.website_url&&(r.websiteUrl=t.website_url),t.listed_website_url&&(r.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(r.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(r.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(r.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){let{account_type:e,advertising_intent:r,business_name:n,business_goals:i,enable_profile_message:a,enable_profile_address:s,selected_ecommerce_platforms:u}=t;o={...r?{advertising_intent:r}:{},...e?{account_type:e}:{},...n?{business_name:n}:{},...i?{business_goals:i}:{},...a?{enable_profile_message:a}:{},...s?{enable_profile_address:s}:{},...u?{selected_ecommerce_platforms:u}:{}}}o&&(r.partner=o,o.business_name&&(r.firstName=o.business_name));let u=n.Z.create("UserSettingsResource",{...t,surface_tag:a.i.NUX}).callUpdate();return async function(e){try{let t=await u;return e({type:"UPDATE_USER_SET",payload:r}),t}catch(e){return Promise.reject(Error((0,i.Z)(e,"message")))}}}function u(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function l(e,t){return()=>{n.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function c(e,t=""){return()=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73236-db65f8342958ee59.mjs.map