"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["79076"],{762587:function(e){e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var r=1e3;i&&"number"==typeof i.maxKeys&&(r=i.maxKeys);var a=e.length;r>0&&a>r&&(a=r);for(var l=0;l<a;++l){var c,u,d,p,h=e[l].replace(s,"%20"),_=h.indexOf(n);(_>=0?(c=h.substr(0,_),u=h.substr(_+1)):(c=h,u=""),d=decodeURIComponent(c),p=decodeURIComponent(u),Object.prototype.hasOwnProperty.call(o,d))?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},712361:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,o){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(o){var s=encodeURIComponent(t(o))+i;return Array.isArray(e[o])?e[o].map(function(e){return s+encodeURIComponent(t(e))}).join(n):s+encodeURIComponent(t(e[o]))}).join(n):o?encodeURIComponent(t(o))+i+encodeURIComponent(t(e)):""}},817673:function(e,t,n){t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},470131:function(e,t,n){n.d(t,{YD:()=>d,df:()=>u});var i=n(667294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s=new Map,r=new Map,a=0;function l(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var i=function(e){var t=Object.keys(e).sort().filter(function(t){return void 0!==e[t]}).map(function(t){var n;return t+"_"+("root"===t?(n=e.root)?(r.has(n)||(a+=1,r.set(n,a.toString())),r.get(n)):"0":e[t])}).toString(),n=s.get(t);if(!n){var i,o=new Map,l=new IntersectionObserver(function(t){t.forEach(function(t){var n,s=t.isIntersecting&&i.some(function(e){return t.intersectionRatio>=e});e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=s),null==(n=o.get(t.target))||n.forEach(function(e){e(s,t)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:o},s.set(t,n)}return n}(n),o=i.id,l=i.observer,c=i.elements,u=c.get(e)||[];return c.has(e)||c.set(e,u),u.push(t),l.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),s.delete(o))}}function c(e){return"function"!=typeof e.children}var u=function(e){function t(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){!n.node||(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),c(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var n=t.prototype;return n.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,i=e.rootMargin,o=e.trackVisibility,s=e.delay;this._unobserveCb=l(this.node,this.handleChange,{threshold:t,root:n,rootMargin:i,trackVisibility:o,delay:s})}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!c(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var s=this.props,r=s.children,a=s.as,l=s.tag,u=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(n=s[i])>=0||(o[n]=e[n]);return o}(s,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,i.createElement)(a||l||"div",o({ref:this.handleNode},u),r)},t}(i.Component);function d(e){var t=void 0===e?{}:e,n=t.threshold,o=t.delay,s=t.trackVisibility,r=t.rootMargin,a=t.root,c=t.triggerOnce,u=t.skip,d=t.initialInView,p=(0,i.useRef)(),h=(0,i.useState)({inView:!!d}),_=h[0],m=h[1],g=(0,i.useCallback)(function(e){void 0!==p.current&&(p.current(),p.current=void 0),!u&&e&&(p.current=l(e,function(e,t){m({inView:e,entry:t}),t.isIntersecting&&c&&p.current&&(p.current(),p.current=void 0)},{root:a,rootMargin:r,threshold:n,trackVisibility:s,delay:o}))},[Array.isArray(n)?n.toString():n,a,r,c,u,s,o]);(0,i.useEffect)(function(){p.current||!_.entry||c||u||m({inView:!!d})});var f=[g,_.inView,_.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}u.displayName="InView",u.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},955168:function(e,t,n){var i,o;n.r(t),n.d(t,{default:()=>r});let s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[o],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}]},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};s.hash="4cbfbeb13b6d75d6f6b35f16cd250f54";let r=s;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},731517:function(e,t,n){n.d(t,{Z:()=>o});var i=n(994193);async function o(e,t){let{api:n}=(0,i.t)(),o=(0,i.u)();try{let i=new Date().getTime(),s=await n.post("/ads/v4/business_entities",e,!1);return o.success("getMultipleBizEntityProperties",t),o.latency("getMultipleBizEntityProperties",new Date().getTime()-i,t),s}catch(e){throw o.failure("getMultipleBizEntityProperties",t),e}}(0,i.u)()},861241:function(e,t,n){n.d(t,{Z:()=>o});var i=n(994193);async function o(e,t){let{api:n}=(0,i.t)(),o=(0,i.u)();try{let i=new Date().getTime(),s=await n.patch("/ads/v4/business_entities",e,!1);return o.success("setMultipleBizEntityProperties",t),o.latency("setMultipleBizEntityProperties",new Date().getTime()-i,t),s}catch(e){throw o.failure("setMultipleBizEntityProperties",t),e}}(0,i.u)()},947862:function(e,t,n){n.d(t,{Z:()=>a,g:()=>s});var i=n(616550),o=n(888226);let s="lastOnHomefeed",r=["/","/homefeed/"];function a(){let{pathname:e}=(0,i.TH)(),t=(0,i.k6)(),n=r.includes(e),a=t&&"POP"!==t.action;if(n&&a){let e=JSON.parse((0,o.qn)(s,null)),t=e?.time?Date.now()-e.time:0;return{shouldMaintainHomefeed:t>0&&t/6e4<2.5,lastHFScrollPosition:e?.scrollPosition}}return{shouldMaintainHomefeed:!1}}},32e3:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),o=n(581722),s=n(894870),r=n(661376),a=n(767415);let l=()=>{let[e,t]=(0,i.useState)(!1),n=(0,o.v9)(({feeds:e})=>e?.homefeed),l=(0,i.useRef)(!1),c=(0,s.q)(),{isFetching:u}=(0,r.Z)(e&&!n?c():null);return(0,i.useEffect)(()=>{u&&((0,a.nP)("web.performance.homefeed.mousedownPrefetch.prefetch"),l.current=!0)},[u]),{onMouseDown:(0,i.useCallback)(()=>t(!0),[]),onNavigateToHomefeed:(0,i.useCallback)(()=>{l.current&&((0,a.nP)("web.performance.homefeed.mousedownPrefetch.navigateAfterPrefetch"),l.current=!1)},[])}}},26581:function(e,t,n){n.d(t,{Z:()=>d});var i=n(667294),o=n(616550),s=n(470205),r=n(774838),a=n(825605),l=n(639008),c=n(785893);let u=(0,i.lazy)(()=>n.e("19085").then(n.bind(n,968900)));function d(e){let{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:i}=(0,l.y)(),{actionFrom:d,isSubmitting:p,modalOpen:h,modalTitle:_,nextPageToRedirect:m,prompt:g,submissionComplete:f,submissionFailure:w}=i,b=(0,o.TH)(),v=(0,r.B)();return h?(0,c.jsx)(s.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(a.Z,{children:(0,c.jsx)(u,{...e,actionFrom:d,hideModal:()=>t(),isSubmitting:p,location:b,modalOpen:h,nextPageToRedirect:m,prompt:g,requestContext:v,submissionComplete:f,submissionFailure:w,submitFeedback:e=>n(e),title:_})})}):null}},241879:function(e,t,n){n.d(t,{Li:()=>s,Wz:()=>r,qJ:()=>o,qY:()=>i});let i=40,o=48,s=80,r={INVALID_USER:0,ADMIN:1,READ_ONLY:2}},907565:function(e,t,n){n.d(t,{d:()=>c,m:()=>l});var i=n(667294),o=n(213491),s=n(730448),r=n(785893);let{Provider:a,useHook:l}=(0,o.Z)("ShoppingIndicatorScroll");function c({children:e}){let t;let[n,o]=(0,i.useState)(!1),l=(0,s.Z)(()=>{t&&clearTimeout(t),n||(o(!0),t=setTimeout(()=>{o(!1)},1500))},50);return(0,i.useEffect)(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[l]),(0,r.jsx)(a,{value:{showScrollUI:n},children:e})}},933442:function(e,t,n){n.d(t,{p:()=>l,t:()=>a});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useHook:a}=(0,o.Z)("VisualShopContext");function l({children:e}){let[t,n]=(0,i.useState)({}),o=(0,i.useRef)(0),a=(0,i.useRef)("");return(0,s.jsx)(r,{value:{cachedOneBarModules:t,setCachedOneBarModules:n,imageContainerScrollTop:o,imageContainerScrollTopForPinId:a},children:e})}},132602:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294),o=n(883119),s=n(785893);function r({color:e="red",duration:t,finalProgress:n,shape:r="pill"}){let[a,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},0);return()=>{clearTimeout(e)}},[]);let c="pill"===r;return(0,s.jsx)(o.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${a?"-5px":"-100%"})`:`scaleX(${a?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:c?8:6,rounding:c?"pill":2,width:`${n}%`})}},777719:function(e,t,n){let i;n.d(t,{Z:()=>d,e:()=>r});var o=n(343669),s=n(505633);let r="data-pinterest-extension-installed",a=()=>Promise.resolve().then(n.bind(n,572840)),l=100,c={},u={[o.oi.CHROME]:{url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},[o.oi.FIREFOX]:{url:"https://addons.mozilla.org/en-US/firefox/addon/pinterest/",newWindow:!1},[o.oi.SAFARI]:{url:"https://apps.apple.com/us/app/save-to-pinterest/id6473649042",newWindow:!0},[o.oi.EDGE]:{url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0}};c.handleExtensionInstall=(e,t)=>{let n=(0,o.u$)(e),i=n?u[n].url:void 0;i&&((0,s.Z)(i,n?u[n].newWindow:void 0),t())},c.isExtensionInstalled=()=>i,c.isBrowserExtensionSupported=e=>(0,o.i7)(e)||(0,o.vU)(e)||(0,o.un)(e)||(0,o.G6)(e),c.extensionReady=(e,t=l)=>new Promise(n=>{setTimeout(()=>{document.body&&(i=document.body.hasAttribute(r),c.isBrowserExtensionSupported(e)||(i=!0),n(i))},t)}),c.initBrowserExtension=()=>{a().then(({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:i})})};let d=c},565758:function(e,t,n){n.d(t,{Z:()=>c});var i=n(883119),o=n(583875),s=n(138596),r=n(157498),a=n(785893);function l(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function c({user:e,isCurrentAccount:t}){let n=(0,s.ZP)(),c=e.partner,u=(0,r.mN)()(e.id??""),d=u?.avatar_color_index;return(0,a.jsxs)(i.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,a.jsx)(i.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,a.jsx)(o.qE,{accessibilityLabel:"",color:d,name:l(e),src:function(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}(e)})}),(0,a.jsxs)(i.xu,{maxWidth:176,children:[(0,a.jsx)(i.xv,{lineClamp:1,weight:"bold",children:l(e)}),(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,a.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",children:c?n._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):n._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,a.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",children:c?e.partner?.bizContactEmail:e.email})})]})]})}},114870:function(e,t,n){n.d(t,{Z:()=>m});var i=n(667294),o=n(27399),s=n(661376),r=n(462867),a=n(230201),l=n(483359),c=n(609252),u=n(936367),d=n(660613),p=n(179),h=n(420711),_=n(767415);function m(e,t){let{flushContextEvents:n,logContextEvent:m}=(0,a.v)(),[g,f]=(0,i.useState)(!1),[w,b]=(0,i.useState)(null),v=(0,r.Z)(),{showAccountSwitcherLoginModal:y}=(0,p.g)(),x=()=>{y("account_switcher_flyout",w?.email)},{userAccounts:S}=(0,h.N)(),{data:E}=function(){let e=(0,r.Z)();return(0,s.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}(),P=(0,l.Z)(),k=!!(v.isAuth&&!v.partner&&E?.businesses)&&0===E.businesses.length;(0,i.useEffect)(()=>(v.isAuth&&(0,d.Mt)(v,E),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,i.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,i.useEffect)(()=>{S.length>1&&m({event_type:13,view_type:234,component:13369,element:12722})},[m,S]);let T=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),f(!1),t},A=e=>{let{id:t}=e;f(!0),m({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(!0),P({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),b(e),f(!1))},e=>{T(t,e)})};return{failedAccount:w,fetchedUserAccounts:S,handleAccountRepClick:e=>{v.isAuth&&e.id!==v.id&&A(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),m({event_type:101,component:8,element:12756}),e()},handleClick:t=>{13290!==t&&m({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,i)=>{let{partner:s}=e;if(f(!0),m({event_type:101,component:13369,element:s?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(!0),s?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:i};(0,_.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),P({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,_.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{T(e.id,t)})}else o.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{v.isAuth&&((0,d.RD)(v.id),(0,d.iS)(t?`/${e.username}`:"/",v.id,"account_switcher_flyout"))},e=>{v.isAuth&&T(v.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),b(null),x()},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),b(null)},handleUnlockBusinessTools:()=>{e(),m({event_type:101,component:8,element:10299})},isLoading:g,showUnlockBusinessTools:k}}},698330:function(e,t,n){n.d(t,{Z:()=>o});var i=n(774838);let o=function(){let{country:e,isBot:t,isAuthenticated:n,locale:o}=(0,i.B)(),s="en"===o.slice(0,2);return t||!n&&s&&"US"===e}},331716:function(e,t,n){n.d(t,{t:()=>c,Z:()=>u});var i=n(50571),o=n(966502),s=n(470967),r=n(681698),a=n(767415);let l=function(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}(),c="default"===l||"granted"===l;async function u(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{let{permission:e}=window.Notification,t=await navigator.serviceWorker.ready;if("granted"===e)try{let e=await t.pushManager.getSubscription(),n=await fetch("/getWebPushKey"),{key:l}=await n.json();if(!e&&l){let e={userVisibleOnly:!0,applicationServerKey:(0,i.Mp)(l)};(0,a.nP)("getChromePushSubscription.no_subscription",{sampleRate:1});let n=await t.pushManager.subscribe(e);((e,t)=>{s.t8(o.L9,"allowed",(0,s.kZ)(o.L9)),t&&t(),(0,a.nP)("auth.web.notifications.allowed",{sampleRate:1});let n=e.subscriptionId&&"string"==typeof e.subscriptionId?e.subscriptionId:e.endpoint.split("/").pop(),i={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};return(0,r.Z)({url:`/v3/users/devices/web/${n}/`,method:"PUT",data:i})})(n,void 0)}}catch(e){(0,a.nP)("getChromePushSubscription.error",{sampleRate:1})}}catch(e){(0,a.nP)("getChromePushSubscription.resubscribe.exception",{sampleRate:1})}}},214879:function(e,t,n){n.d(t,{Z:()=>o,v:()=>i});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function o(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},219162:function(e,t,n){n.d(t,{Z:()=>r});var i=n(505633),o=n(865043),s=n(426775);let r=(e,t)=>{t?.disableOriginCheck||(0,s.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,i.Z)(e)}},95664:function(e,t,n){n.d(t,{$K:()=>l,dh:()=>i,ry:()=>a});let i=e=>/instagram/i.test(e||""),o=e=>/facebook/i.test(e||""),s=e=>/line/i.test(e||""),r=e=>/wechat/i.test(e||""),a=e=>i(e)||o(e)||s(e)||r(e),l=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},232178:function(e,t,n){n.d(t,{Z:()=>r});var i=n(883119),o=n(138596),s=n(785893);function r(){let e=(0,o.ZP)();return(0,s.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},358136:function(e,t,n){n.d(t,{Z:()=>a});var i=n(883119),o=n(132602),s=n(138596),r=n(785893);let a=()=>{let e=(0,s.ZP)();return(0,r.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:(0,r.jsxs)(i.xu,{color:"default",height:600,minWidth:"500px",rounding:2,width:"30%",children:[(0,r.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12,children:[(0,r.jsx)(i.xu,{alignItems:"center",color:"primary",display:"flex",height:60,justifyContent:"center",marginBottom:4,rounding:"circle",width:60,children:(0,r.jsx)(i.JO,{accessibilityLabel:e._('Loading state for google one tap registration', ' - ', ' -- '),color:"inverse",icon:"pin",size:"28"})}),(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{"text-align":"center"}},paddingY:5,children:(0,r.jsx)(i.X6,{children:e._('Welcome to Pinterest!', 'Welcome to Pinterest!', 'Welcome to Pinterest!')})}),(0,r.jsx)(i.xv,{align:"center",overflow:"normal",size:"400",children:e._('Your answers to the next questions will help us find the right ideas for you', 'loading state description while waiting for google one tap registration to complete', 'loading state description while waiting for google one tap registration to complete')})]}),(0,r.jsx)(i.xu,{width:"100%",children:(0,r.jsx)(o.Z,{duration:6e3,finalProgress:95,shape:"rounded"})})]})})}},756219:function(e,t,n){n.d(t,{Z:()=>d});var i=n(667294),o=n(883119),s=n(222126),r=n(739879),a=n(138596),l=n(774838),c=n(785893);let u=({dismiss:e,errorMessage:t})=>{let n=(0,a.ZP)(),{isRTL:i}=(0,l.B)();return(0,c.jsx)(r.Z,{canClose:!1,hidden:!1,type:"error",children:(0,c.jsxs)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"6px"}},margin:"auto",width:380,zIndex:new o.Ry(2e3),children:[(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px",fontWeight:"bold",borderBottom:"1px solid #e7e7e7"}},padding:5,children:n._('Oops!', 'unauth.error.modal', 'Header for error modal')}),(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:"#333",fontSize:"14px",lineHeight:"21px"}},padding:5,children:t}),(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{float:i?"left":"right"}},padding:4,children:(0,c.jsx)(o.zx,{color:"red",onClick:()=>e(),size:"sm",text:n._('Okay', 'unauth.error.modal.okay', 'Button text for accepting that there was an error')})})]})})},d=({children:e})=>{let[t,n]=(0,i.useState)(null),o=(0,i.useRef)(null);return(0,s.o)(e=>{n(e),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{n(null)},3e3)}),(0,i.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[]),(0,c.jsxs)(i.Fragment,{children:[e,!!t&&(0,c.jsx)(u,{dismiss:()=>n(null),errorMessage:t})]})}},739879:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),o=n(883119),s=n(42538),r=n(865043),a=n(785893);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hidden:this.props.hidden||!1}),l(this,"handleKeyDown",e=>{let{canClose:t,type:n}=this.props;"Escape"===e.key&&((0,r.My)(`unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.${n}.${t?"can":"cant"}_close`),t&&((0,r.My)(`unauth.authentication_modal.esc_key_click.DISMISSED.${n}`),this.close())),e.stopPropagation()}),l(this,"close",()=>{let{onCloseClick:e,onHide:t}=this.props;e?e():(this.setState({hidden:!0}),t&&t())})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){let{hidden:e}=this.state,{canClose:t,children:n,type:i}=this.props;return e?null:(0,a.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"closeup"===i?"rgba(239, 239, 239, 0.96)":"rgba(0, 0, 0, 0.6)",cursor:"closeup"===i?"zoom-out":void 0}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:s.P,children:(0,a.jsx)("div",{"aria-label":"modal",onClick:()=>{(0,r.My)(`unauth.full_page_modal.${i}.empty_space_click`),t&&this.close()},role:"dialog",style:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:0,left:0,right:0,top:0,position:"fixed",display:"flex"},children:(0,a.jsx)("div",{"aria-label":"modal",onClick:e=>{e.stopPropagation()},onKeyDown:e=>{t&&"Escape"===e.key&&e.stopPropagation()},role:"dialog",style:{height:"100%",display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},children:n})})})}}},222126:function(e,t,n){n.d(t,{o:()=>a,x:()=>r});var i=n(667294),o=n(138596);let s=new Set,r=e=>{s.forEach(t=>t(e))},a=e=>{let t=(0,o.ZP)();(0,i.useEffect)(()=>{let n=n=>{e(n||t._('Unknown Error', 'unauth.error.modal.unknown', 'Text saying an unknown error occurredr'))};return s.add(n),()=>{s.delete(n)}},[])}},797502:function(e,t,n){n.d(t,{K:()=>i,Z:()=>o});let i=`
input[type="password"]::-ms-reveal  {
    display: none;
}
`,o=`
.Tooltip_message:before, .Tooltip_message:after {
  border-style: solid;
  content: '';
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_message:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_message:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_mobileMessage:before, .Tooltip_message:after {
  border-style: solid;
  display: block;
  margin-top: -8px;
  position: absolute;
  right: 100%;
  top: 17px;
  width: 0;
}
.Tooltip_mobileMessage:before {
  border-color: transparent rgba(0,0,0,0.48);
  border-width: 8px 10px 8px 0;
}
.Tooltip_mobileMessage:after {
  border-color: transparent #fff;
  border-width: 8px 10px 8px 0;
  margin-right: -1px;
}
.Tooltip_wrapper {
  position: absolute;
  left: calc(100% + 12px);
  z-index: 1;
}
.Tooltip_mobileWrapper {
  margin-top: 7px;
  z-index: 1;
}

.TermsOfService__light a {
  color: rgba(255,255,255,0.9);
}
`},483359:function(e,t,n){n.d(t,{Z:()=>E});var i=n(667294),o=n(966502),s=n(27399),r=n(4533),a=n(230201),l=n(470967),c=n(498895),u=n(800213),d=n(424868),p=n(478559),h=n(637539),_=n(552764),m=n(165927),g=n(856639),f=n(959708),w=n(34550),b=n(865043),v=n(11908),y=n(278277),x=n(378199),S=n(767415);function E(){let e=(0,p.hq)(),t=(0,_.Z)(),{logContextEvent:n}=(0,a.v)(),E=(0,v.Z)();return(0,i.useCallback)(({creds:i,isAccountSwitch:a,loggingOptions:{loggingData:p={},loginAttemptContextEvent:_},recaptchaV2Token:v,recaptchaV3Token:P})=>{t();let k=!!(i.facebook_autologin||i.autologin),T=(0,h.eD)(i),A=e=>{let t=i.google_open_id_token?"google":"facebook";k&&(0,b.dy)({event:e,provider:t})},j=e=>{k||(0,b.EX)({event:e,provider:(0,h.nY)(i)})},I=e=>{n({..._,event_type:e,aux_data:{..._.aux_data,upsell_reason:_.aux_data?.upsell_reason||(k?"autologin":(0,w.M0)().getItem(r.bg)),upsell_view_count:(0,w.M0)().getItem(r.w0)??0}}),7536===e&&((0,w.M0)().setItem(r.V6,(0,h.nY)(i)),(0,w.M0)().setItem(r.w0,0))};I(7534),E({action:k?"autologin":"login",event:"attempt",trigger:p.trigger,type:T});let Z=e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let n=p===Object(p)?p.container:"container_unknown";(0,b.My)("login.referrer."+t+"."+T),(0,b.My)("login.container."+String(n)+"."+T),(0,b.My)("login.type."+T);let o=T||"method_unknown",s=p.page||"page_unknown";i.facebook_autologin?((0,b.My)("web_autologin_facebook"),(0,b.My)("new_web_autologin_facebook",{page:s,referrer:t,container:n})):((0,b.My)(`web_login.${o}.success.${s}.${String(n)}.${t}.tier1`),(0,S.nP)(`web_login.${o}.success.${s}.${String(n)}.${t}.tier1`),(0,b.My)(`new_web_login.${o}.success`,{page:s,referrer:t,container:n})),(0,m.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),I(7536),E({action:k?"autologin":"login",event:"success",trigger:p&&p.trigger,type:T})},C=({error:e})=>{if(!e)return;let t=e.http_status===g.Ej?g.Ej:e.api_error_code,n=t;t&&d.qF.has(t)&&(n=d.qF.get(t));let{container:i,trigger:o}=p;(0,b.My)(`unauth_web_client_login_api_error.${String(n)}.${i||"unknow_container"}.${T}`),I(7535),E({action:k?"autologin":"login",event:"fail",trigger:o,type:T})};A("login_api_call_start"),j("login_api_call_start");let O=(0,y.O)();return s.Z.create("UserSessionResource",{...i,...O?{referrer:O}:Object.freeze({}),get_user:i.get_user||i.switch_account&&a,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,x.t_)()||null,recaptchaV2Token:v,recaptchaV3Token:P}).callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:n,country_from_ip:i,region_from_ip:s}=e?.client_context||Object.freeze({});return Z({country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:s}),A("login_api_call_success"),j("login_api_call_success"),(0,c.B)(!1),(0,u.Z)(),l.zN(o.e7.name),l.zN(o.x3.name),(0,f.Z)("login").then(()=>e)},e=>(C({error:e}),A("login_api_call_failure"),j("login_api_call_failure"),Promise.reject(e)))},[e,t,n,E])}},42538:function(e,t,n){n.d(t,{C:()=>s,P:()=>o});var i=n(883119);let o=new i.Ry(1e4),s=new i.H3([o])},40679:function(e,t,n){n.d(t,{Z:()=>o});var i=n(53596);let o=`
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
nav,
section,
ul {
  display: block;
}

audio,
canvas,
video {
  display: inline-block;
}

audio:not([controls]) {
  display: none;
}

html {
  font-size: 100%;
  text-size-adjust: none;
}

a:hover,
a:active {
  outline: 0;
}

sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}

img {
  max-width: 100%;
  width: auto;
  height: auto;

  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic;
}

#map_canvas img {
  max-width: none;
}

fieldset {
  border: 0;
  margin: 0;
  padding: 0;
}

button,
input,
select,
textarea {
  font-size: 100%;
  margin: 0;
  vertical-align: middle;
}
button,
input {
  overflow: visible;
  line-height: normal;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  padding: 0;
  border: 0;
}
button,
input[type='button'],
input[type='reset'],
input[type='submit'] {
  cursor: pointer;
  -webkit-appearance: button;
}
textarea {
  overflow: auto;
  vertical-align: top;
}
body {
  margin: 0;
}
h1, h2, h3, h4, h5, h6 {
  margin: 0;
}
figure {
  margin: 0;
}
html {
  background-color: #fff;
}

html, body {
  font-family: ${i.Z};
  color: rgb(33, 25, 34);
  font-size: 12px;
  height: 100%;
}

body {
  position: relative;
  overflow-y: overlay;
  overflow-x: hidden;
}

input::-ms-clear {
  display: none;
}

ul {
  margin: 0;
  padding: 0;
}

ul li {
  list-style: none;
  padding: 0;
}

button, input, select, textarea {
  font-family: ${i.Z};
  font-size: 100%;
  vertical-align: middle;
  margin: 0px;
}

.SkipToContent {
  display: none;
}
`},498895:function(e,t,n){n.d(t,{B:()=>r,a:()=>s});var i=n(4533),o=n(34550);let s=()=>!!o.ZP.getItem(i.WM),r=e=>{o.ZP.setItem(i.WM,!!e)}},36796:function(e,t,n){n.d(t,{Z:()=>o,z:()=>s});var i=n(456940);function o(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],n=e&&-1!==e.indexOf(".")?e.split("."):[];if(n.length>=2&&"gmail"===n[0]&&"com"!==n.slice(1).join("."))return!0;let o=(0,i.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===o||2===o))return!0}return!1}function s(e,t){let n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;let o=n[1],s=o&&-1!==o.indexOf(".")?o.split("."):[],r=s[0];if(r===t&&s.length>3)return!0;if(s.length>=2){let e=(0,i.Z)(r,t);return r.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==s.length||r!==t||2!==s[1].length&&"com"!==s[1])&&(s.length,!1)}},211405:function(e,t,n){n.d(t,{Z:()=>i});let i="M19.1 7.5c-.2-.7-.6-1.3-1-1.8l2.7-2.8-1.5-1.5L16.7 4c-1.4-1.1-3-1.6-4.7-1.6-3.3 0-6.2 2-7.2 5.2-2.9.7-4.8 3.1-4.8 6 0 2 1 3.9 2.5 5L.1 21.1l1.6 1.5 2.9-3c.3.1.7.2 1 .2H18.3c3.2-.2 5.7-2.9 5.7-6.2.1-3-2-5.5-4.9-6.1zm-2.6-.2c.2.4.4.7.5 1.1l.4 1.2 1.2.2c1.9.3 3.3 1.9 3.3 3.9s-1.5 3.8-3.6 4H6.6l9.9-10.4zM2.3 13.6c0-1.8 1.4-3.5 3.1-3.9l1.1-.2.3-1.1c.7-2.3 2.8-3.8 5.1-3.8 1.2 0 2.2.4 3.2 1.1L4.1 17c-1.1-.8-1.8-2-1.8-3.4z"},954934:function(e,t,n){n.d(t,{Z:()=>i});let i="M24.4 8.1c0-4.3-3.6-7.9-7.9-7.9-2.6 0-4.9 1.3-6.4 3.2-2.5.5-4.5 2.3-5.4 4.8-2.7.7-4.7 3.1-4.7 6 0 3.2 2.5 5.9 5.7 6.1H18.3c3.2-.2 5.7-2.9 5.7-6.1 0-.9-.2-1.7-.6-2.4.7-1.1 1-2.4 1-3.7zm-6.2 10H5.9c-2-.1-3.6-1.8-3.6-4 0-1.8 1.3-3.5 3.1-3.9l1.1-.1.3-1.1c.3-1 1-2 1.9-2.6 0 .5-.1 1.1-.1 1.6 0 4.3 3.6 7.9 7.9 7.9 2 0 3.9-.8 5.3-2v.3c0 2-1.6 3.8-3.6 3.9zm-1.7-4.3c-3.2 0-5.8-2.6-5.8-5.8s2.6-5.8 5.8-5.8 5.8 2.6 5.8 5.8-2.6 5.8-5.8 5.8z M18.9 5.5l-3.3 3.3-1.3-1.3c-.4-.4-.9-.4-1.3 0s-.4.9 0 1.3l1.9 1.9.6.6.6-.6L20 6.8c.4-.4.4-.9 0-1.3-.3-.3-.7-.3-1.1 0z"},306902:function(e,t,n){n.d(t,{Z:()=>o});var i=n(883119);let o=()=>(0,i.Z6)({webExperimentName:"web_gestalt_visualrefresh",mwebExperimentName:"web_gestalt_visualrefresh"})},800213:function(e,t,n){n.d(t,{Z:()=>u});var i=n(681698),o=n(865043),s=n(4533),r=n(34550),a=n(447926),l=n(899681),c=n(378199);async function u(e){let t=(0,c.ZP)(),n=t?t.map(({pageType:e,...t})=>t):null,u={is_register:e??!1};if(n&&(u.unauth_visited_pages=JSON.stringify(n)),n){let e=await (0,i.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:u});(0,o.My)(`landing_signals.flush.${e.status}`),(0,c.t_)()&&(0,a.L_)(l.tz),(0,r.M0)().removeItem(s.ny),(0,r.M0)().removeItem(s.Vb),(0,r.M0)().removeItem(s.Mi)}}},456940:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){let n,i;if(0===e.length)return t.length;if(0===t.length)return e.length;let o=[];for(n=0;n<=t.length;n+=1)o[n]=[n];for(i=0;i<=e.length;i+=1)o[0][i]=i;for(n=1;n<=t.length;n+=1)for(i=1;i<=e.length;i+=1)t.charAt(n-1)===e.charAt(i-1)?o[n][i]=o[n-1][i-1]:o[n][i]=Math.min(o[n-1][i-1]+1,Math.min(o[n][i-1]+1,o[n-1][i]+1));return o[t.length][e.length]}},143699:function(e,t,n){n.d(t,{Z:()=>s});var i=n(173874),o=n(138482);function s(e){return(0,i.C$)(e)||(0,i.L6)(e)||(0,i.l4)(e)||(0,i.am)(e)||(0,i.En)(e)||(0,i.$V)(e)||(0,i.Zz)(e)||(0,o.Z)(e)||(0,i.Ni)(e)}},660613:function(e,t,n){n.d(t,{CV:()=>a.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>p});var i=n(505633),o=n(609252),s=n(936367),r=n(483423),a=n(675410),l=n(281183);let c=e=>{let t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},u=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,r.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});return}(0,r.Z)(e)}},d=(e,t,n)=>{(0,a.Z)("switch_account_success",{destination_user_id:t},n),(0,i.Z)(e)},p=(e,t)=>{o.Z.resume(s.Z3),(0,a.Z)("switch_account_failure",{destination_user_id:e},t)}},483423:function(e,t,n){n.d(t,{Z:()=>r});var i=n(675410),o=n(281183);let s=e=>{let t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||(0,i.Z)("utils.incomplete_user_values"),e.partner?.is_create)?{...t,partner:{is_create:!0}}:t},r=(e,t,n)=>{(0,o.r8)({...(0,o.rl)(),[e.id]:s(e)}),t&&n&&(0,i.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},675410:function(e,t,n){n.d(t,{Z:()=>l});var i=n(172045),o=n(281183),s=n(865043);let r="web_account_switcher",a=()=>{let e=(0,i.Z)();return(0,s.tj)(`${r}.utils.group_created`,{group_id:e,group_count:(0,o.lv)()}),e},l=(e,t,n)=>{let i=(0,o.yW)();i||(i=a(),(0,o.M3)(i));let l={group_count:(0,o.lv)()},c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,s.tj)(`${r}.${c}${e}`,{...t,...l})}},178253:function(e,t,n){n.d(t,{i:()=>o,x:()=>s});var i=n(424868);let o=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function s({apiErrorCode:e,onShowMessage:t,onPassCodeRequired:n,onPassCodeSkipConfirmation:o}){e&&(({[i.RR]:t,[i.mX]:n,[i.q6]:o})[e]||t)()}},478559:function(e,t,n){n.d(t,{aU:()=>r,hq:()=>s,o_:()=>i});let{Provider:i,useHook:o}=(0,n(213491).Z)("AuthenticationContext");function s(){return o().loginContext}function r(){return o().logout}},437578:function(e,t,n){n.d(t,{Z:()=>o});var i=n(27399);let o=e=>i.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},637539:function(e,t,n){n.d(t,{Ny:()=>d,ZP:()=>h,eD:()=>m,lp:()=>_,nY:()=>g});var i=n(4533),o=n(219162),s=n(413220),r=n(34550),a=n(247387),l=n(865043),c=n(925201),u=n(629724);let d=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===a.lfe||window.location.pathname===a.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=r.ZP.getItem(i.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=r.ZP.getItem(i.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let o=t.join("|");r.ZP.setItem(i.kl,o)}static isFullyLoggedIn(e,t){return e&&t===s.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,u.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,c.Z)(e||"/",t)}}(0,o.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){r.ZP.setItem(i.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,l.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=p;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},281183:function(e,t,n){n.d(t,{M3:()=>u,PE:()=>a,Q:()=>d,lv:()=>l,r8:()=>r,rl:()=>s,yW:()=>c});var i=n(4533),o=n(34550);let s=()=>(0,o.M0)().getItem(i.uo)??Object.freeze({}),r=e=>(0,o.M0)().setItem(i.uo,e),a=()=>null!==(0,o.M0)().getItem(i.uo),l=()=>Object.keys(s()).length,c=()=>(0,o.M0)().getItem(i.R1),u=e=>(0,o.M0)().setItem(i.R1,e),d=()=>({multipleAccountMap:s(),multipleAccountGroupId:c()})},552764:function(e,t,n){n.d(t,{Z:()=>s});var i=n(667294),o=n(613567);let s=()=>{let e=(0,o.F)();return(0,i.useCallback)(()=>{e.flush()},[e])}},779108:function(e,t,n){n.d(t,{I:()=>u,L:()=>a,Z:()=>p,mO:()=>l,qK:()=>d});var i=n(27399),o=n(681698),s=n(391887);let r=async(e,t)=>{let n=(await (0,o.Z)({url:`/v3/ppm/advertiser_kpis/${t}/spend/${e}`})).resource_response.data||{};return n&&Object.keys(n).length>0?n:{}},a=async e=>{let t=(await (0,o.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response.data||null;t&&Object.keys(t).length>0&&"0"===t[e]&&(0,s.eP)(e)},l=async(e,t)=>{let n=await r(e,t);n&&Object.keys(n).length>0&&(0,s.M7)(n,e)},c=async e=>{let t=(await (0,o.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response.data||{};return t&&Object.keys(t).length>0?t:{}},u=async e=>{let t=await c(e);t&&Object.keys(t).length>0&&(0,s.F8)(t,e)},d=async()=>1===((await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response.data||null),p=async()=>{let e=(await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!e&&Object.keys(e).length>0}},849232:function(e,t,n){n.d(t,{kf:()=>g,l5:()=>_,of:()=>p,xC:()=>m,yz:()=>h});var i=n(667294),o=n(213491),s=n(504644),r=n(893957),a=n(986523),l=n(767415),c=n(785893);let{Provider:u,useMaybeHook:d}=(0,o.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,o]=(0,i.useState)(null),a=t||{pwaType:"unknown",twaType:null},d=a.pwaType;(0,r.Z)(()=>{let e=(0,s.FB)(window)||"unknown";o(e),d!==e&&(0,l.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:d,clientPwaType:e,conflict:"unknown"!==d&&"unknown"!==e}})});let p="unknown"===d&&n?n:d,{twaType:h}=a,_=(0,i.useMemo)(()=>({pwaType:p,twaType:h}),[p,h]);return(0,c.jsx)(u,{value:_,children:e})},h=()=>{let e=d();return e?.pwaType??"unknown"},_=()=>{let e=d();return e?.twaType??null},m=()=>"android-twa"===h(),g=()=>{let e=h(),t=(0,a.Z)();return"unknown"===e&&t?null:"windows"===e}},64606:function(e,t,n){n.d(t,{D:()=>l,T:()=>a});var i=n(667294),o=n(615695),s=n(785893);let r=(0,i.createContext)({recaptchaV3Token:"",refreshToken:()=>{}});function a({children:e}){let[t,n]=(0,i.useState)(""),a=(0,i.useCallback)(()=>{(0,o.rY)(e=>n(e),()=>{},o.sk)},[]);(0,i.useEffect)(()=>{a();let e=setInterval(a,o.yc);return()=>{clearInterval(e)}},[a]);let l=(0,i.useMemo)(()=>({recaptchaV3Token:t,refreshToken:a}),[t,a]);return(0,s.jsx)(r.Provider,{value:l,children:e})}let l=()=>(0,i.useContext)(r)},615695:function(e,t,n){n.d(t,{Ec:()=>b,OA:()=>d,TL:()=>v,dA:()=>y,f$:()=>g,nP:()=>w,oH:()=>p,rY:()=>c,sk:()=>f,wQ:()=>h,xW:()=>_,yc:()=>u,ys:()=>m});var i=n(767415);let o="onloadRecaptchaJsCallback",s="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",r="recaptcha-enterprise-src",a=(e,t,n)=>{(0,i.nP)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:n}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,i.nP)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:n}})):window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(s,{action:n}).then(e).catch(t)}catch(e){(0,i.nP)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:n}}),t(e)}})},l=()=>null!==document.getElementById(r),c=(e,t,n)=>{if(window[o]=()=>a(e,t,n),l())a(e,t,n);else{let e=document.createElement("script");e.id=r,e.src=`https://www.recaptcha.net/recaptcha/enterprise.js?onload=${o}&render=${s}`;let t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},u=105e3,d=8e3,p=3e4,h="mweb_auth",_="mweb_login",m="mweb_signup",g="web_auth",f="web_unauth",w="mweb_reset_password",b="web_reset_password",v="mweb_change_password",y="web_change_password"},890678:function(e,t,n){n.d(t,{Z:()=>s});var i=n(629972),o=n(957547);function s(e){let{enabledRouteRefresh:t,headers:n,name:s,noCache:r,options:a,schema:l}=e??{name:i.fY,options:null},c=!e,{fetchResource:u,ref:d}=(0,o.Z)({enabledRouteRefresh:t,headers:n,name:s,noCache:r,options:a,schema:l},c,!1);return c||u(),d}},517186:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294),o=n(616550),s=n(947862);function r({children:e,scrollOn:t="animationFrame",disableForHashLinks:n}){let{action:r}=(0,o.k6)(),{hash:a,key:l,pathname:c}=(0,o.TH)(),u=(0,i.useRef)(l),d=(0,i.useRef)(c),p=(0,i.useRef)(!0),h=(0,i.useRef)({}),{shouldMaintainHomefeed:_,lastHFScrollPosition:m}=(0,s.Z)();return l!==u.current&&"PUSH"===r&&(h.current[u.current]=[window.scrollX,window.scrollY]),u.current=l,(0,i.useEffect)(()=>{window.history.scrollRestoration="manual"},[]),(0,i.useEffect)(()=>{let e=!p.current;p.current=!1;let i=n&&c===d.current&&!!a;if(d.current=c,!e||i)return;let o=()=>{_?window.scrollTo(...m):"PUSH"===r||"REPLACE"===r?window.scrollTo(0,0):Object.hasOwnProperty.call(h.current,l)?window.scrollTo(...h.current[l]):window.scrollTo(0,0)};"timeout"===t?setTimeout(o,0):requestAnimationFrame(o)},[r,l]),i.Children.only(e)}},843716:function(e,t,n){n.d(t,{H5:()=>f,WS:()=>b,Xn:()=>m,an:()=>g,lk:()=>v});var i=n(173874),o=n(138482),s=n(575820);let r="BING",a="GOOGLE",l="YAHOO",c="YANDEX",u="RAKUTEN",d="NAVER",p="AMP_CACHE",h="DUCKDUCKGO",_=[a,r,l,c,u,d,p,h];function m(e){return _.includes(function(e){let{hostname:t}=(0,s.Qc)(e,!0);if(t&&e){if(t.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return a;if(t.includes("bing."))return r;if(t.includes("yahoo."))return l;if(t.includes("yandex."))return c;else if(t.includes("rakuten."))return u;else if(t.includes("naver."))return d;else if(t.includes("duckduckgo."))return h;else if(t.includes(".cdn.ampproject.org"))return p}return""}(e))}function g(e){return e||"undefined"!=typeof document&&document.referrer||""}let f=e=>{let t=new URL(e);return t.searchParams.set("nii","t"),t.href},w=e=>"/"!==e[e.length-1]?`${e}/`:e,b=e=>{let t=w(e),n=(0,i.ll)({pathname:t});return(0,i.L6)(n)?"PIN":(0,i.am)(n)?"BOARD":(0,o.Z)(n)?"PROFILE":(0,i.bo)(n)?"TODAY":(0,i.z_)(n)?"IDEA":(0,i.R$)(n)?"SHOPPING":"UNKNOWN"},v=({selector:e,skipExternal:t})=>{let n=Array.from(document.querySelectorAll(e)),i={pin:[],board:[],user:[],today:[],idea:[],shopping:[]},o=new Set;return n.forEach(e=>{let n=e.getAttribute("href");if(!n||n.startsWith("#")||t&&n.startsWith("http")&&!n.includes(window.location.hostname))return;let s=w(n);if(o.has(s))return;o.add(s);let r=b(s);"PIN"===r?i.pin.push(s):"BOARD"===r?i.board.push(s):"PROFILE"===r?i.user.push(s):"TODAY"===r?i.today.push(s):"IDEA"===r?i.idea.push(s):"SHOPPING"===r&&i.shopping.push(s)}),i}},415316:function(e,t,n){n.d(t,{o$:()=>i,ty:()=>o,vE:()=>s});let{Provider:i,MaybeConsumer:o,useMaybeHook:s}=(0,n(213491).Z)("inviteContext")},967515:function(e,t,n){n.d(t,{RC:()=>p,Wr:()=>d,Hx:()=>h});var i=n(667294),o=n(213491),s=n(27277),r=n(17658),a=n(785893);let l=()=>Promise.resolve().then(n.bind(n,27277)),{Provider:c,useHook:u}=(0,o.Z)("IdeaPinVideoPlayer");function d({children:e}){let[t,n]=(0,r.Z)(l,s.initialState),o=(0,i.useMemo)(()=>({dispatch:n,ideaPinVideoPlayerControls:t}),[n,t]);return(0,a.jsx)(c,{value:o,children:e})}function p(){let{dispatch:e}=u();return(0,i.useMemo)(()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}),[e])}function h(){let{ideaPinVideoPlayerControls:e}=u();return e}},27277:function(e,t,n){n.r(t),n.d(t,{default:()=>o,initialState:()=>i});let i={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function o(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},680589:function(e,t,n){n.d(t,{ZP:()=>o,mP:()=>i});let i="…";function o(e,t=80,n=i,s=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||s)r=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},11908:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294),o=n(607162),s=n(865043);function r(){return(0,i.useCallback)(e=>{e.action&&e.event?(0,s.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,o.Z)()}):(0,s.My)("pinner_conversion.missing_tags")},[])}},145626:function(e,t,n){n.d(t,{AO:()=>_,Ag:()=>s,C0:()=>l,L1:()=>p,Vi:()=>r,Wm:()=>m,YD:()=>d,kS:()=>o,oo:()=>a,p3:()=>h,vC:()=>c,vI:()=>u});var i=n(721703);let o="https://www.pinterest.com/business/hub/",s="https://www.pinterest.com/homefeed/",r="www.pinterest.com",a="https://www.pinterest.com/_/_/help",l=`${(0,i.Z)({site:"www"})}`,c=(0,i.Z)({site:"developers"}),u=`${(0,i.Z)({site:"sterling"})}`,d=`${(0,i.Z)({site:"analytics"})}`,p=`${(0,i.Z)({site:"trends"})}`,h=`${(0,i.Z)({site:"www",path:"/business/catalogs/?advertiserId="})}`,_=`${(0,i.Z)({site:"business"})}`,m="https://www.pinterest.com/_/_/policy"},986523:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667294);let o=()=>()=>{},s=()=>!1,r=()=>!0,a=()=>(0,i.useSyncExternalStore)(o,s,r)},396083:function(e,t,n){n.d(t,{A6:()=>r,A9:()=>E,AJ:()=>w,BO:()=>C,Eb:()=>G,Eq:()=>O,F$:()=>o,GF:()=>$,G_:()=>Z,H:()=>eo,HJ:()=>f,Ht:()=>k,Hv:()=>d,Io:()=>g,Iu:()=>B,Iv:()=>es,Ix:()=>K,KW:()=>Y,LN:()=>T,LZ:()=>A,Mj:()=>c,Mr:()=>a,NM:()=>i,Pc:()=>V,RX:()=>_,TL:()=>x,Tw:()=>D,Uf:()=>m,VI:()=>Q,ZA:()=>J,ZH:()=>L,Zg:()=>z,_7:()=>v,bH:()=>R,bn:()=>N,c:()=>u,dt:()=>j,eE:()=>l,eZ:()=>M,g:()=>F,gN:()=>ee,he:()=>P,iE:()=>y,iQ:()=>U,jP:()=>W,kG:()=>b,kR:()=>p,kS:()=>X,lT:()=>et,nM:()=>I,oq:()=>h,oz:()=>H,rl:()=>q,sC:()=>S,wt:()=>ei,xA:()=>s,y6:()=>en});let i="/product-catalogs/",o="/business/catalogs/",s="/business/catalogs/overview/",r="/business/catalogs/data-sources/",a="/business/catalogs/product-groups/",l="/business/catalogs/diagnostics/",c="/business/catalogs/diagnosticsv2",u="/business/catalogs/trends",d="/business/catalogs/listings/",p="/business/catalogs/products/",h="/business/catalogs/pins/",_="/business/catalogs/bulk/",m="/business/catalogs/add-items/",g="/business/catalogs/promotions/",f="/business/catalogs/promotions/history",w="/business/catalogs/:catalog_id/data-sources/feed-debugger/",b="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",v="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/detail",y="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",x="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/detail",S="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",E="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",P="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",k="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",T="/business/catalogs/:catalog_id/data-sources/",A="/business/catalogs/:catalog_id/data-sources/?tab=SUPPLEMENTAL_DATASOURCE",j="/business/catalogs/:catalog_id/data-sources/api/detail",I="/business/catalogs/:catalog_id/data-sources/regions/",Z="/business/catalogs/:catalog_id/data-sources/stores/",C="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",O="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",R="/business/catalogs/:catalog_id/product-groups/create/",N="/business/catalogs/:catalog_id/product-groups/:product_group_id/",L="/business/catalogs/:catalog_id/product-groups/bulk/",M="/business/catalogs/:catalog_id/product-groups/",D="/business/website-content-manager/",U="/business/catalogs/:catalog_id/listings/",z="/business/catalogs/:catalog_id/products/",H="/business/catalogs/:catalog_id/diagnostics/",B="/business/catalogs/:catalog_id/diagnosticsv2/",F="/business/catalogs/:catalog_id/trends/",W="/business/catalogs/:catalog_id/pins/",G="/business/catalogs/:catalog_id/bulk/",$="/business/catalogs/:catalog_id/add-items/",V=[r,T],K=[a,M],q=[l,H],Y=[c,B],X=[u,C],J=[u,F],Q=[d,U],ee=[p,z],et=[h,W],en=[_,G],ei=[m,$],eo="/business/catalogs/product-listings/",es=[eo,"/business/catalogs/:catalog_id/product-listings/"]},383702:function(e,t,n){n.d(t,{ZP:()=>r});var i=n(430037),o=n(127396);class s extends o.ZP{constructor(e){super({config:e,logContextEvent:e=>s.contextLogger?.logContextEvent(e),requestContext:(0,i.Z)()})}}let r=s},994193:function(e,t,n){n.d(t,{t:()=>l,u:()=>a});var i=n(383702),o=n(767415);let s=()=>{let e=new i.ZP;return{delete:async(t,n,i)=>{await e.delete(t,n,i)},post:async(t,n,i)=>await e.postJSON(t,n||{},i),put:async(t,n,i)=>await e.putJSON(t,n||{},i),patch:async(t,n,i)=>await e.patchJSON(t,n||{},i),get:async(t,n,i)=>await e.get(t,n||{},i)}},r=()=>{let e=new i.ZP({useCache:!0});return{post:async(t,n,i,o)=>await e.postJSON(t,n||{},i,!1,o),get:async(t,n,i,o)=>await e.get(t,n||{},i,o)}},a=()=>({latency:(e,t,n)=>{(0,o.LY)(`sterling.ads_api_client.latency.${e}`,t,{sampleRate:.1,tags:n||{}})},success:(e,t)=>{(0,o.nP)(`sterling.ads_api_client.success.${e}`,{sampleRate:1,tags:t||{}})},failure:(e,t)=>{(0,o.nP)(`sterling.ads_api_client.failure.${e}`,{sampleRate:1,tags:t||{}})}}),l=()=>({api:s(),cachedApi:r(),statsLog:a()})},109563:function(e,t,n){function i(e){return null==e}function o(e){return!i(e)}n.d(t,{G:()=>o,k:()=>i})},695371:function(e,t,n){n.d(t,{Z:()=>u});var i=n(883119),o=n(232178),s=n(138596),r=n(70906),a=n(271245),l=n(785893);let c=(0,a.Z)(()=>Promise.all([n.e("25418"),n.e("76767")]).then(n.bind(n,167714)),void 0,e=>167714,"FullPageSignup");function u(e){let t=(0,s.ZP)();return(0,l.jsx)(r.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,l.jsx)(i.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,l.jsx)(c,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,l.jsx)(o.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},179:function(e,t,n){n.d(t,{T:()=>c,g:()=>l});var i=n(667294),o=n(213491),s=n(695371),r=n(785893);let{Provider:a,useHook:l}=(0,o.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),d=(0,i.useCallback)((e,t)=>{u(e),t&&l(t),n(!0)},[]),p=(0,i.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(a,{value:p,children:e}),t&&(0,r.jsx)(s.Z,{container:c,email:o??"",onClose:()=>n(!1)})]})}},70906:function(e,t,n){n.d(t,{Z:()=>h});var i=n(883119),o=n(138596),s=n(59111),r=n(736328),a=n(785893);let l=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,c={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},u={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},d={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},p={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function h(e){let t=(0,o.ZP)(),n=(0,r.Z)(),{renderContent:h}=e;return(0,a.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:[(0,a.jsx)(s.Z,{unsafeCSS:l}),(0,a.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:u,children:(0,a.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:d,children:[h(),(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p},children:(0,a.jsx)(i.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},420711:function(e,t,n){n.d(t,{N:()=>a,t:()=>l});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useHook:a}=(0,o.Z)("LinkedAccount");function l({children:e}){let[t,n]=(0,i.useState)([]),o=(0,i.useMemo)(()=>({userAccounts:t,userAccountsRetrieved:n}),[n,t]);return(0,s.jsx)(r,{value:o,children:e})}},363815:function(e,t,n){n.d(t,{I9:()=>l,OY:()=>u,ZP:()=>a,tb:()=>c});var i=n(4533),o=n(36796),s=n(34550),r=n(496883);function a(e){return!(!e.match(r.CU)||(0,o.Z)(e)||(0,o.z)(e,"yahoo")||(0,o.z)(e,"hotmail"))}let l=()=>{s.ZP.setItem(i.Z4,!0)},c=()=>{s.ZP.setItem(i.Z4,!1)};function u(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,n=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,i=e.isAuth&&e.hasPassword;return t&&!n&&!i}},501443:function(e,t,n){let i;n.r(t),n.d(t,{default:()=>oJ});var o,s=n(667294),r=n(613567),a=n(34550),l=n(418282),c=n(45762),u=n(796757),d=n(212830),p=n(883119),h=n(331716),_=n(739405),m=n(462867),g=n(581722),f=n(616550),w=n(27399),b=n(26581),v=n(99643),y=n(907565),x=n(933442),S=n(343669),E=n(777719),P=n(124617),k=n(271245),T=n(785893);let A=(0,k.Z)(()=>n.e("34093").then(n.bind(n,771350)),void 0,e=>771350,"LimitedLoginModalCommon");function j(){return(0,T.jsx)(A,{fallback:(0,T.jsx)(p.xu,{})})}var I=n(470205),Z=n(230201),C=n(382802),O=n(465784),R=n(138596);function N(){let{logContextEvent:e}=(0,Z.v)(),t=(0,R.ZP)(),[n,i]=(0,s.useState)(),[o,r]=(0,s.useState)(),[a,l]=(0,s.useState)();(0,s.useEffect)(()=>{let n=t._('Sorry! Something went wrong on our end.', ' - ', ' -- '),o=t._('Something went wrong', ' - ', ' -- ');return C.Z.setShowHtmlErrorCallback((t=n,s,a=o)=>{t===n&&a===o&&e({event_type:13,component:9,view_type:17,view_parameter:3237});let c=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");i(s),r(a||""),l(c)}),()=>{C.Z.setShowHtmlErrorCallback(()=>{})}},[e,i,r,l,t]);let c=()=>{"function"==typeof n&&n(),i(null),r(null),l(null)};return a?(0,T.jsx)(O.ZP,{accessibilityModalLabel:t._('An error occurred', ' - ', ' -- '),footer:(0,T.jsx)(p.kC,{alignItems:"stretch",justifyContent:"end",children:(0,T.jsx)(p.zx,{color:"red",onClick:c,text:t._('Okay', ' - ', ' -- ')})}),heading:o,onDismiss:c,size:"sm",children:(0,T.jsx)(p.xu,{"data-test-id":"error-modal",margin:5,children:(0,T.jsx)(p.xv,{children:a})})}):null}var L=n(521367),M=n(609252),D=n(173874),U=n(143699),z=n(64606),H=n(774838);let B="web.com.pinterest.www";var F=n(890678),W=n(825605),G=n(730448),$=n(708722),V=n(575820),K=n(893957),q=n(396083);function Y({isPartner:e,location:t}){return e&&(t.pathname.includes(q.NM)||t.pathname.includes(q.F$))}var X=n(566497),J=n(363815),Q=n(241879),ee=n(680405),et=n(386385),en=n(732012);class ei extends s.Component{constructor(...e){var t,n,i;super(...e),n={mounted:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;let e=this.props.i18n._(`Oh no! Pinterest doesn't work unless you <a style="text-decoration: underline;
      color: #fff" href="http://enable-javascript.com/" target="_blank"
      rel="noopener noreferrer nofollow">turn on JavaScript.</a>`, 'Nag to tell users Javascript is disabled and the site is broken without it', 'Nag to tell users Javascript is disabled and the site is broken without it');return(0,T.jsx)("noscript",{children:(0,T.jsx)(en.Z,{message:e},"noscriptNag")})}}function eo(e){let t=(0,R.ZP)();return(0,T.jsx)(ei,{...e,i18n:t})}let es=(0,s.lazy)(()=>n.e("6107").then(n.bind(n,660291))),er=(0,s.lazy)(()=>Promise.resolve().then(n.bind(n,843439))),ea=(0,s.lazy)(()=>n.e("45076").then(n.bind(n,190818))),el=(0,s.lazy)(()=>n.e("26281").then(n.bind(n,835935)));class ec extends s.Component{constructor(e,t){var n,i,o;super(e,t),n="removeNag",i=e=>{this.setState(t=>({nags:t.nags.filter(t=>t!==e)}))},(n="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?o:o+"")in this?Object.defineProperty(this,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[n]=i;let s=[...this.props.nags||[]];this.state={nags:s}}componentDidUpdate(){M.Z.updateObstructions()}render(){let{experience:e}=this.props;if(e?.experience_id===502597)return(0,T.jsx)(L.a3,{eligibleTypes:[13],placementId:30,children:({complete:e})=>(0,T.jsx)(I.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,T.jsx)(W.Z,{children:(0,T.jsx)(er,{handleComplete:e,isNag:!0})})})});let{nags:t}=this.state,n=!!(e&&500711===e.experience_id);return(0,T.jsxs)("div",{className:"Nags","data-test-id":"nags-container",id:et.OZ,children:[(0,T.jsx)(eo,{}),(0,T.jsx)(L.a3,{eligibleTypes:n?[13]:[2],placementId:30,children:({complete:e,dismiss:t,experience:i})=>(0,T.jsx)(I.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,T.jsx)(W.Z,{children:n?(0,T.jsx)(ea,{complete:e,dismiss:t,experience:i}):(0,T.jsx)(es,{complete:e,dismiss:t,experience:i})})})}),!e&&t[0]?(0,T.jsx)(I.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,T.jsx)(W.Z,{children:(0,T.jsx)(el,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function eu(e){let{experience:t}=(0,L.Ow)(30);return(0,T.jsx)(ec,{...e,experience:t})}var ed=n(26494);let ep=(0,k.Z)(()=>n.e("64253").then(n.bind(n,29882)),void 0,e=>29882,"ProPartnerHeaderDesktop"),eh=(0,k.Z)(()=>n.e("97955").then(n.bind(n,248541)),void 0,e=>248541,"SosAdminHeaderDesktop"),e_=(0,k.Z)(()=>Promise.all([n.e("48441"),n.e("52877")]).then(n.bind(n,771091)),void 0,e=>771091,"AuthDesktopHeader"),em=e=>e.isSos?(0,T.jsxs)(p.xu,{children:[(0,T.jsx)(eh,{currentSite:e.currentSite}),(0,T.jsx)(ep,{...e})]}):(0,T.jsx)(ep,{...e});function eg({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:i}){let o=(0,f.TH)(),s=(0,g.v9)(({experiences:e})=>e),r=i.isAuth&&i.isPartner,{currentSite:a}=(0,ed.wF)(),l=9===(s[11]||{}).type?null:(0,T.jsx)(eu,{experience:s[30],nags:i.nags||[]}),c=o.search&&(0,V.mB)(o.search).advertiserId,{is_sterling_on_steroids:u}=(0,ee.u)(),d=Q.Li;return r&&u&&(d=Q.Li+Q.qJ),(0,T.jsx)(p.xu,{"data-test-id":`header-${r?"PartnerHeader":"Header"}`,children:r?t||n&&c||e?(0,T.jsx)(p.xu,{"data-test-id":"pro-partner-header",height:d,children:(0,T.jsx)(em,{currentSite:a,isShoppingCatalogs:t,isSos:u,suppressSearchBox:!0,totalHeaderHeight:d})}):(0,T.jsx)(p.xu,{"data-test-id":"pro-partner-header",height:d,children:(0,T.jsx)(em,{currentSite:a,isSos:u,nags:l,totalHeaderHeight:d})}):(0,T.jsx)(e_,{fallback:(0,T.jsx)(p.xu,{height:et.cI,width:"100%"}),nags:l,viewer:i})})}var ef=n(74972),ew=n(505758),eb=n(943893),ev=n(508634),ey=n(271875),ex=n(82109),eS=n(817468);let eE=(0,k.Z)(()=>n.e("44942").then(n.bind(n,836634)),{ssr:!1}),eP=()=>{let e=(0,m.Z)(),t=(0,f.TH)(),n=!!e.isAuth&&e.isPartner,i=Y({isPartner:n,location:t})||(0,D.rk)(t)||(0,D.bb)(t),o=(0,D.O7)(t)||(0,D.RU)(t)&&n,s=(0,F.Z)({name:"UserSettingsResource"});return(0,T.jsx)(p.xu,{"data-test-id":"footer",children:(0,T.jsx)(eS.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,T.jsx)(eE,{hideQuestionMarkButton:i,isPartner:n,settingsDataRef:s,showInsiteFeedback:o})})})};var ek=n(488661),eT=n(864206),eA=n(49254),ej=n(186485);function eI({children:e}){let[t,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),r=(0,s.useMemo)(()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:i,toggleTooltipOnLogoButton:o}),[t,i]);return(0,T.jsx)(ej.e,{value:r,children:e})}var eZ=n(439405),eC=n(36776),eO=n(167912),eR=n(426351),eN=n(783734),eL=n(165927),eM=n(216956),eD=n(779108),eU=n(554092),ez=n(247387),eH=n(738014),eB=n(218504);let eF=(e,t,n)=>{setTimeout(()=>{t?e(t):e()},n||300)},eW=void 0!==o?o:o=n(955168);function eG(){let{unauthId:e,country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:o}=(0,H.B)(),{checkExperiment:a}=(0,r.F)(),l=(0,m.Z)(),c=ez.nBl.includes(o),u=ez.PRI.includes(o),d=(0,eO.useLazyLoadQuery)(eW,{}),p=d.v3GetThirdPartyTrackingSettingsQuery?.data,[h,_]=(0,s.useState)(p&&p.sendPixel&&!u),[f,w]=(0,s.useState)(p&&p.sendEventsToFacebook&&!u),b=l.isAuth?l.id:null,v=b||"",y=(0,g.I0)(),[x,S]=(0,s.useState)(!1),E="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;return(0,s.useEffect)(()=>{let s=!1,r=e=>{y((0,eB._L)({field:"personalize_from_offsite_browsing",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eU.i.SETTINGS,userId:v})),y((0,eB._L)({field:"ads_customize_from_conversion",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eU.i.SETTINGS,userId:v})),y((0,eB._L)({field:"third_party_marketing_tracking_enabled",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eU.i.SETTINGS,userId:v})),y((0,eB._L)({field:"ccpa_opted_out",value:!e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eU.i.SETTINGS,userId:v})),y((0,eB._L)({field:"third_party_ads_personalization",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eU.i.SETTINGS,userId:v}))};if(async function(){if(E&&c)try{let e=await (0,eD.qK)();s||e||(await (0,eD.Z)(),await r(!1),_(!1),w(!1))}catch{}s||S(!0)}(),x&&h){let s=a("ppm_p_gate").anyEnabled;eF(eH.jO,{pixelBlocked:s}),(0,eM.c_)({country:t,countryFromHostName:n,countryFromIp:i})&&(eF(eH.X,{id:eR.me,eventCategory:"Logins",eventName:"LoggedInViews"}),eF(eH.X,{id:eR.Ph,eventName:"Desktop"})),(0,eM.$r)({country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:o})&&eF(eH.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"}),(0,eM.NR)({country:t,regionFromIp:o})&&e&&b&&(eF(eH.fh,{unauthId:e,userId:b}),eF(eH.c,{id:eL.xA,unauthId:e,userId:b,eventCategory:"EngagedSessions",eventName:"Desktop"},6e4)),(0,eM.Fc)({country:t,countryFromHostName:n,countryFromIp:i})&&e&&b&&eF(eH.Xn,{unauthId:e,userId:b})}return()=>{s=!0}},[a,t,n,i,o,E,x,e,b,c,v,h,y]),(0,s.useEffect)(()=>{x&&h&&((0,eM.c_)({country:t,countryFromHostName:n,countryFromIp:i})&&(0,eN.Z)(null,l,28)&&eF(eH.X,{id:eR.Nv,eventName:"Desktop",eventCategory:"RezLogins"}),(0,eM.NR)({country:t,regionFromIp:o})&&e&&b&&(0,eN.Z)(null,l,28)&&(0,eH.EN)({pixelId:eL.Dq,eventCategory:"RezLogins",eventName:"Desktop"}))},[t,n,i,o,l,e,b,x,h]),(0,s.useEffect)(()=>{x&&f&&(eF(eH.Um),(0,eM.Fc)({country:t,countryFromHostName:n,countryFromIp:i})&&eF(eH.KT))},[t,n,i,f,x]),null}var e$=n(661376);function eV(){let e=(0,s.useRef)(0),t=(0,s.useRef)(null),n=(0,e$.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),i=(0,e$.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:o}}=(0,ey.Z)();return(0,s.useEffect)(()=>((function i(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(i,2e3+e.current),e.current=Math.min(2*(e.current||5e3),9e5)})(),function(){t.current&&clearTimeout(t.current)}),[]),(0,s.useEffect)(()=>i.refresh(),[o]),null}var eK=n(104999),eq=n(4533),eY=n(236269),eX=n(681698),eJ=n(50571),eQ=n(767415);let e0=(e,t,n,i)=>{let o=(0,eJ.FK)(e),s={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};(0,eX.Z)({url:`/v3/users/devices/web/${o}/`,method:"PUT",data:s}),(0,eJ.dO)(`web.notifications_upsell.${(0,eJ.Sb)(t)}.subscribed`,n),(0,eQ.nP)("web.push_upsell.allowed",{sampleRate:1,tags:{web_push_exp_group:n.experimentName}});let r=(0,eJ.$V)(t);i({component:13123,element:10355,event_type:102,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})},e1=(e,t,n)=>{(0,eJ.dO)(`web.notifications_upsell.${(0,eJ.Sb)(e)}.denied`,t),(0,eQ.nP)("web.push_upsell.denied",{sampleRate:1,tags:{web_push_exp_group:t.experimentName}});let i=(0,eJ.$V)(e);n({component:13123,element:14371,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})};async function e3(e,t,n,o){let s="undefined"!=typeof navigator?navigator.serviceWorker:null,r="Notification"in window&&"default"!==Notification.permission;if(r)return;let l=a.ZP.getItem(eq.X_);if(l){let e=parseInt(l,10);if(Date.now()-e<2592e6)return}try{let e=await s?.register("/sw.js");if(!e?.showNotification)return}catch(e){return}if(s&&s.ready&&h.t&&!r){let r;t({event_type:13,view_type:4015,component:13123,aux_data:{experiment_name:n,experiment_group:o}});let l={experimentName:n||"noExperiment",experimentGroup:o||"noGroup",browser:i?.getState().session.browser,version:Math.floor(parseInt(i?.getState().session.browserVersion,10))};(0,eJ.dO)(`web.notifications_upsell.${(0,eJ.Sb)(e)}.viewed`,l);try{let e=await fetch("/getWebPushKey"),{key:t}=await e.json();r=t}catch(e){(0,eQ.nP)("web.push_upsell.getWebPushKey.err",{sampleRate:1,tags:{errMessage:(0,eY.Z)(e,"message")}});return}let c={userVisibleOnly:!0,applicationServerKey:(0,eJ.Mp)(r)};try{let n=await s.ready,i=await n.pushManager.subscribe(c);if(!i)throw Error();e0(i,e,l,t)}catch(n){(0,eQ.nP)("web.push_upsell.serviceWorkerSubscribe.err",{sampleRate:1,tags:{errMessage:(0,eY.Z)(n,"message"),web_push_exp_group:o}}),"denied"===Notification.permission?e1(e,l,t):"default"===Notification.permission&&a.ZP.setItem(eq.X_,Date.now().toString())}}}function e2({experimentName:e="",experimentGroup:t=""}){let n=(0,f.TH)(),i=(0,eK.Z)();return(0,s.useEffect)(()=>{e3(n,i,e,t)},[n,i,e,t]),null}var e8=n(169834),e6=n(229103),e4=n(228612);let e7=(0,s.createContext)(!1);var e5=n(862893),e9=n(500602);let te=new p.H3([e9.mT]);function tt(){let{appUI:{showTypeaheadOverlay:e}}=(0,ef.I)();return e?(0,T.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},left:!0,position:"fixed",right:!0,top:!0,zIndex:te}):null}var tn=n(985543),ti=n(363061),to=n(680616);function ts({anchor:e,dropDownId:t,isIdeaPinRenamingEnabled:n,onDismiss:i,zIndex:o}){let s=(0,R.ZP)(),r=(0,eK.Z)(),a=s._('Create Pin', 'header.createOptionsMenu.pinOption', 'Create pin option'),l=s._('Create collage', 'header.createOptionsMenu.collageOption', 'Create collage option'),c=e=>{r(ed.$L[e]),i()};return(0,T.jsxs)(p.Lt,{anchor:e,disableMobileUI:!0,headerContent:(0,T.jsx)(p.X6,{align:"start",id:"create-options-header",size:"400",children:s._('Create', 'header.createOptionsMenu.title', 'Create flyout')}),id:t,idealDirection:"right",isWithinFixedContainer:!1,onDismiss:i,zIndex:o,children:[(0,T.jsxs)(p.Lt.Link,{href:(0,ti.Z)(n),onClick:()=>c("createPin"),option:{label:a,value:a},children:[(0,T.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,T.jsx)(p.JO,{accessibilityLabel:a,color:"dark",icon:"pin",size:28})}),(0,T.jsxs)(p.xu,{marginStart:3,children:[(0,T.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:s._('Pin', 'header.createOptionsMenu.pinOption', 'Pin creates option')}),(0,T.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:s._('Post your photos or videos and add links, stickers, effects and more', 'header.createOptionsMenu.pinOption.description', 'Pin create option')})]})]}),(0,T.jsxs)(p.Lt.Link,{href:to.ZP,onClick:()=>c("createCollage"),option:{label:l,value:l},children:[(0,T.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,T.jsx)(p.JO,{accessibilityLabel:l,color:"dark",icon:"collage",size:28})}),(0,T.jsxs)(p.xu,{marginStart:3,children:[(0,T.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:s._('Collage', 'header.createOptionsMenu.collageOption', 'Collage create option')}),(0,T.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:s._('Put together a style, goal or vibe that sparks your imagination and create something new', 'header.createOptionsMenu.collageOption.description', 'Collage create option description')})]})]})]})}var tr=n(899111),ta=n(12930),tl=n(59111),tc=n(179);let tu=()=>{let{checkExperiment:e}=(0,r.F)(),t=(0,m.Z)();return (n=!1)=>t.isAuth&&!t.isPartner&&e("web_collage_creation",{dangerouslySkipActivation:n}).anyEnabled};var td=n(113116),tp=n(534222),th=n(959646),t_=n(841353),tm=n(681631),tg=n(424733),tf=n(626487);let tw={selectedNav:void 0,isPanelOpen:e=>!1,updatePanelState:(e,t)=>{},togglePanelState:e=>{}},tb=(0,s.createContext)(tw);function tv({children:e,isIdeaPinRenamingEnabled:t}){let{pathname:n}=(0,f.TH)(),i=(0,m.Z)(),o=(0,tg.Z)({username:i.isAuth?i.username:void 0,isIdeaPinRenamingEnabled:t}),r=(0,tf.Z)({pathname:n,iconRoutes:o})||void 0,[a,l]=(0,s.useState)({news:!1,conversations:!1,settings:!1,create:!1}),[c,u]=(0,s.useState)(!1),d=(0,s.useCallback)((e,t)=>{l(n=>(t||n[e]===t||(u(!0),setTimeout(()=>{u(!1)},125)),{...n,[e]:t}))},[]),p=(0,s.useCallback)(e=>{d(e,!a[e])},[a,d]),h=(0,s.useCallback)(e=>a[e],[a]),_=Object.values(a).some(e=>e)||c?void 0:r,g=(0,s.useMemo)(()=>({selectedNav:_,isPanelOpen:h,updatePanelState:d,togglePanelState:p}),[_,h,d,p]);return(0,T.jsx)(tb.Provider,{value:g,children:e})}function ty(){return(0,s.useContext)(tb)||tw}function tx({children:e,justifyContent:t,height:n}){return(0,T.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:`${e9.df}px`}},direction:"column",display:"flex",height:n,justifyContent:t,children:e})}function tS({children:e,dataTestId:t,position:n}){return(0,T.jsx)(p.xu,{"data-testid":t,position:n,children:e})}var tE=n(306902),tP=n(543380);let tk=function(){let e=(0,tE.Z)(),t=(0,R.ZP)();return(0,T.jsxs)(s.Fragment,{children:[!e&&(0,T.jsx)(tl.Z,{unsafeCSS:`
          /* Target the Pinterest logo home button */
          [data-test-id="pinterest-logo-home-button"] a[aria-label="Home"], [data-test-id="pinterest-logo-home-button"] a[aria-label="Home"] > div {
            border-radius: ${e9.Dk}px !important;
          }
        `}),(0,T.jsx)(tS,{"data-testid":"pinterest-logo-home-button",children:(0,T.jsx)(tP.Z,{defaultPaddingBasedOnSize:!0,size:e9.yg,tooltip:{text:t._('Home', 'verticalNav.homeButton.section', 'tooltip text for home button in nav bar'),idealDirection:e9.Mh,zIndex:e9.BO}})})]})};function tT({children:e,showTypeaheadOverlay:t}){return(0,T.jsx)(p.xu,{alignItems:"center",as:"nav",color:"default",dangerouslySetInlineStyle:{__style:{borderRight:`1px solid ${e9.bd}`}},direction:"column",display:"flex",height:"100vh",id:e9.Lc,overflow:"auto",position:"fixed",top:!0,width:e9.Qf,zIndex:t?e9.mT:e9.pS,children:(0,T.jsx)(p.xu,{height:"100%",paddingY:4,children:e})})}let tA=({currentSite:e,todayPathUrl:t,isTodayTabEligible:n,isIdeaPinRenamingEnabled:i,onMouseDownHomefeedPrefetch:o,onNavigateToHomefeedMousedownPrefetch:r,siteParametersProviderValue:a})=>{let l=(0,m.Z)(),c=(0,L.oS)(ed.nu),u=tu()(!0),d=(0,R.ZP)(),h=(0,f.k6)(),_=(0,eK.Z)(),{selectedNav:g,updatePanelState:w,togglePanelState:b,isPanelOpen:v}=ty(),y=(0,s.useRef)(null),x=(0,s.useRef)(null),S="VerticalNav-MoreOptions-Flyout",E="VerticalNav-CreationOptions-Flyout",P=v("settings"),{appUI:{showTypeaheadOverlay:k}}=(0,ef.I)(),A=/\/(pin|collage)-creation-tool/.test(h.location.pathname),j=v("create");return(0,T.jsx)(tp.F,{value:a,children:(0,T.jsx)(tT,{showTypeaheadOverlay:k,children:(0,T.jsxs)(tx,{height:"100%",justifyContent:"between",children:[(0,T.jsxs)(tx,{children:[(0,T.jsx)(tk,{}),(0,T.jsx)(tS,{children:(0,T.jsx)(tm.T,{accessibilityLabel:d._('Home', 'verticalNav.homeButton.section', 'tooltip text for home button in vertical nav bar'),dataTestId:"home-tab",href:"/",iconName:"home",onClick:()=>{(0,eQ.nP)(ed.P8.HOME),r()},onMouseDown:o,selected:"home"===g})}),n?(0,T.jsxs)(tS,{position:"relative",children:[(0,T.jsx)(tm.T,{accessibilityLabel:d._('Explore', 'verticalNav.exploreButton.section', 'tooltip text for explore button in vertical nav bar'),dataTestId:"today-tab",href:t,iconName:"today",onClick:()=>{(0,eQ.nP)(ed.P8.TODAY),c.completeExperience(ed.nu,ed.wo),_(ed.$L.today)},selected:"today"===g}),(0,T.jsx)(L.a3,{eligibleIds:[ed.wo],placementId:ed.nu,children:(0,T.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{top:"10px",right:"8px",pointerEvents:"none"}},position:"absolute",children:(0,T.jsx)(p.z$,{accessibilityLabel:d._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications')})})})]}):null,(0,T.jsxs)(tS,{children:[(0,T.jsx)(tm.T,{ref:x,accessibilityLabel:d._('Create', 'verticalNav.createButton.section', 'tooltip text for create button in nav bar'),dataTestId:"create-tab",href:u?void 0:(0,ti.Z)(i),iconName:"create",onClick:()=>{(0,eQ.nP)(ed.P8.CREATE),u?b("create"):_(ed.$L.createPin)},selected:A||j}),(0,T.jsx)(tl.Z,{unsafeCSS:`
              #${E} [role="menuitem"] > div {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              div:has(> #${E}) {
                left: ${e9.qM.anchorOffset} !important;
              }
              #${E} {
                max-width: ${e9.GJ}px !important;
                width: ${e9.GJ}px !important;
              }
              div:has(> #create-options-header) {
                align-self: start;
              }
        `}),j&&(0,T.jsx)(ts,{anchor:x.current,dropDownId:E,isIdeaPinRenamingEnabled:i,onDismiss:()=>{w("create",!1)},zIndex:e9.m6})]}),(0,T.jsx)(tS,{children:(0,T.jsx)(td.Z,{onPanelChange:e=>{w("news",e),e&&(0,eQ.nP)(ed.P8.NEWS)},tooltipText:d._('Updates', 'verticalNav.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications')})}),l.isAuth&&l.should_show_messaging?(0,T.jsx)(tS,{children:(0,T.jsx)(th.Z,{onPanelChange:e=>{w("conversations",e),e&&(0,eQ.nP)(ed.P8.CONVERSATIONS)}})}):null]}),(0,T.jsxs)(tS,{children:[(0,T.jsx)(tm.T,{ref:y,accessibilityControls:S,accessibilityLabel:d._('More options', 'verticalNav.moreOptionsButton.tooltip', 'Tooltip text for icon button to open more options/settings menu'),accessibilityPopupRole:"menu",dataTestId:"vertical-nav-more-options-button",iconName:"moreOptions",onClick:()=>{P||(0,eQ.nP)(ed.P8.MORE_OPTIONS),b("settings")},selected:P}),(0,T.jsx)(tl.Z,{unsafeCSS:`
              /* Subtitle text tied to the Dropdown.Section */
              #${S} [aria-label] > [role="presentation"] {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              /* Adjust spacing for each highlightable menu item */
              #${S} [role="menuitem"] > div {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              div:has(> #${S}) {
                left: ${e9.qM.anchorOffset} !important;
              }
              #${S} {
                max-width: ${e9.GJ}px !important;
                width: ${e9.GJ}px !important;
              }
        `}),(0,T.jsx)(tc.T,{children:(0,T.jsx)(t_.j,{children:P?(0,T.jsx)(tr.Z,{anchor:y.current,dropdownId:S,idealDirection:e9.dg,isWwwSite:(0,ta.YG)(e),onDismiss:()=>{w("settings",!1)},showAccountSwitcher:!1,showMoreOptions:!0,zIndex:e9.m6}):null})})]})]})})})},tj=()=>{let e=(0,ed.wF)();return(0,T.jsx)(tv,{isIdeaPinRenamingEnabled:e.isIdeaPinRenamingEnabled,children:(0,T.jsx)(tA,{...e})})};var tI=n(217616),tZ=n(74195);let tC=(0,k.Z)(()=>n.e("1557").then(n.bind(n,5862)),{ssr:!1}),tO=(0,k.Z)(()=>Promise.all([n.e("6608"),n.e("70597")]).then(n.bind(n,144719)),{ssr:!1}),tR=(0,k.Z)(()=>n.e("50778").then(n.bind(n,22492)),{ssr:!1}),tN=(0,k.Z)(()=>n.e("83576").then(n.bind(n,825163)),{ssr:!1}),tL=(0,k.Z)(()=>n.e("48259").then(n.bind(n,624463)),void 0,e=>624463,"app-www-Authentication-PersonalizedLoginFlyout"),tM=(0,k.Z)(()=>Promise.all([n.e("17078"),n.e("3768"),n.e("35688"),n.e("96699"),n.e("46396")]).then(n.bind(n,238903)),void 0,e=>238903,"FullHeightInboxDesktop"),tD=(0,k.Z)(()=>Promise.all([n.e("70402"),n.e("57425")]).then(n.bind(n,734440)),void 0,e=>734440,"AuthDesktopCSSImports"),tU=({isPartner:e,location:t})=>e&&t.pathname.includes(ew.GW),tz=({isPartner:e,location:t})=>e&&t.pathname.includes(eb.GW),tH=()=>{let e=(0,e4.AF)(),t=(0,f.TH)(),n=(0,f.LX)(t.pathname,{path:"/pin/:id",exact:!0}),i=n&&n.params.id||null,o=i&&((e[i]||{}).images||{})["474x"];return o?{url:o.url,width:o.width,height:o.height}:null};function tB({children:e}){let{appUI:{viewportSize:t},setIsAutoplay:n,setViewportSize:i}=(0,ef.I)(),{dismiss:o,reportData:r}=(0,tn.f)(),{loginForMore:a}=(0,eC.H)(),l=(0,s.useRef)(null),{enabled:c}=(0,tI.Z)(),u=(0,tZ.Z)(),d=(0,m.Z)(),[h,_]=(0,s.useState)(!1),k=!!d.isAuth&&d.isPartner,A=!!d.isAuth&&d.isLimitedLogin,Z=d.isAuth&&!d.isLimitedLogin,C=d.isAuth?d.username:"",O=(0,f.k6)(),R=(0,f.TH)(),q=(0,H.B)(),{pathname:Q}=R,ee=l.current,en=!((0,D.jC)(R)||(0,D.x7)(R))&&Z,ei=(0,V.mB)(R.search),{conversation_id:eo,tab:es}=ei,{conversations:{showConversationsDropdown:er},conversationOpen:ea,dropdownOpen:el}=(0,ey.Z)(),ec=d.isAuth&&!d.isLimitedLogin&&(0,U.Z)(R),eu=(0,g.I0)(),ed=tH(),{userAgent:{browserName:ep}}=q,eh=(0,g.v9)(e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{});(0,K.Z)(()=>{function e(e){Object.keys(eh||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),(0,K.Z)(()=>{!function(e){if(window.safari&&window.safari.pushNotification&&e.isAuth)try{let t=window.safari.pushNotification.permission(B);if("default"===t.permission){let t=e.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",B,{uid:t},()=>{})}}catch(e){}}(d)}),(0,s.useEffect)(()=>{E.Z.extensionReady(ep).then(E.Z.initBrowserExtension)},[ep]),(0,K.Z)(()=>{setTimeout(()=>{n(!0)},300)}),(0,s.useEffect)(()=>{A||(eo&&ea(eo),"inbox"===es&&el())},[eo,es,ea,el,A]);let e_=(0,e8.Z)(R);(0,s.useEffect)(()=>(ee instanceof HTMLElement&&M.Z.addObstruction("top",ee),()=>{ee instanceof HTMLElement&&M.Z.removeObstruction("top",ee)}),[ee]);let[em,ew]=(0,s.useState)(!!a?.visible||!A),eb=(0,G.Z)(()=>{let e="lg";window&&window.innerWidth<1056&&(e=window.innerWidth<680?"sm":"md"),t!==e&&(0,s.startTransition)(()=>i(e))},200);return(0,K.Z)(()=>(window.addEventListener("resize",eb),eb(),()=>{window.removeEventListener("resize",eb)})),(0,s.useEffect)(()=>{_(Q!==`/${C}/`)},[Q,C]),(0,s.useEffect)(()=>{w.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:C}).callGet().then(e=>{let{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&eu((0,e6.p)(n.id,n.name,n.url))})},[eu,C]),(0,F.Z)(h?{name:"UserResource",options:{field_set_key:"profile",username:C}}:null),(0,F.Z)(h?{name:"UserMetadataResource",options:{user:{id:C}}}:null),(0,T.jsxs)(e7.Provider,{value:!!ei.social_debug,children:[(0,T.jsx)(tD,{}),(0,T.jsx)(X.Z,{children:(0,T.jsx)(ev.Z,{children:(0,T.jsx)(e5.Z,{children:(0,T.jsx)(z.T,{children:(0,T.jsx)(ex.N,{children:(0,T.jsx)(v.b,{children:(0,T.jsx)(x.p,{children:(0,T.jsx)(y.d,{children:(0,T.jsxs)(P.c4,{value:ed,children:["undefined"!=typeof window&&window.Windows&&(0,T.jsx)(I.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,T.jsx)(tN,{onActivated:e=>{O.push(e)}})}),!a?.visible&&d.isAuth&&d.isLimitedLogin&&!(0,D.Xn)(R)&&!(0,D.OK)(R)&&!(0,D.FO)(R)&&!(0,D.re)(R)&&(0,T.jsx)(tL,{attributionLabel:R.state?.attributionLabel,fallback:(0,T.jsx)(p.xu,{}),shouldHideFlyout:em,triggerModal:()=>{a&&a.setVisible(!0),ew(!0)},viewer:d}),(0,T.jsx)(eZ.Hv,{children:(0,T.jsx)(eI,{children:(0,T.jsx)(ek.i3,{children:(0,T.jsx)(eT.Z,{children:(0,T.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[(0,T.jsxs)(p.xu,{role:"banner",children:[(0,T.jsx)($.Z,{}),(0,T.jsxs)(p.xu,{ref:l,dangerouslySetInlineStyle:{__style:{left:u}},"data-test-id":"header",id:et.WZ,position:"fixed",right:!0,top:!0,zIndex:new p.Ry(et.fe),children:[a?.visible&&!(0,D.re)(R)||A&&R.pathname.includes("/repin/")?(0,T.jsx)(j,{}):null,e_&&d.isAuth&&(0,T.jsx)(I.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,T.jsx)(eg,{isBPMPage:tU({isPartner:k,location:R}),isShoppingCatalogs:Y({isPartner:k,location:R}),isVMPStatusPage:tz({isPartner:k,location:R}),viewer:d})}),en&&(0,T.jsx)(eV,{})]})]}),c?(0,T.jsx)(tj,{}):null,(0,T.jsxs)("div",{className:"appContent",role:"main",children:[(0,T.jsx)(eA.c,{children:t=>(0,T.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:e_?t:0,paddingLeft:u}},children:(0,T.jsxs)("div",{className:"mainContainer",children:[e,Z&&(0,J.OY)(d)&&(0,T.jsx)(I.Z,{name:"PostLogin_AlternativeAuthCollection",children:(0,T.jsx)(tO,{})}),(0,T.jsx)(L.O9,{placementId:1000421}),d.isAuth&&"/"===R.pathname&&!E.Z.isExtensionInstalled()&&(0,S.i7)(ep)&&(0,T.jsx)(L.a3,{eligibleIds:[506046],placementId:11,children:({complete:e,dismiss:t,view:n})=>(0,T.jsx)(I.Z,{name:"AuthDesktopAppShell_BrowserExtensionUpsellModal",children:(0,T.jsx)(tC,{handleComplete:e,handleDismiss:t,handleView:n})})}),(0,T.jsx)(tt,{})]})})}),er&&!A&&(0,T.jsx)(tM,{"data-test-id":"full-height-inbox"})]}),(0,T.jsx)(eP,{})]})})})})}),k&&(0,T.jsx)(b.Z,{}),(0,T.jsx)(N,{}),ec&&(0,T.jsx)(I.Z,{name:"DesktopApp_WebPushUpsell",children:(0,T.jsx)(W.Z,{children:(0,T.jsx)(e2,{})})}),(0,T.jsx)(I.Z,{name:"DesktopApp_MarketingPixel",children:(0,T.jsx)(eG,{})}),r&&(0,T.jsx)(p.xu,{"data-test-id":"report-pin",children:(0,T.jsx)(I.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,T.jsx)(tR,{data:r,dismiss:o})})})]})})})})})})})})})]})}var tF=n(797502),tW=n(15881),tG=n(358136),t$=n(498895);let tV=()=>{l.ZP.setItem(tW.EZ,"OPEN_UNAUTH")},tK=()=>(0,t$.a)()||"OPEN_UNAUTH"===l.ZP.getItem(tW.EZ);var tq=n(481889);function tY(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tX=(0,k.Z)(()=>n.e("92786").then(n.bind(n,533486)),{fallback:(0,T.jsx)(p.xu,{})},e=>533486,"app-packages-desktopLoginModal-UnauthHybridBannerSignupModal");class tJ extends s.Component{constructor(...e){super(...e),tY(this,"state",{scrollSessionCount:0,shouldShowBanner:!1,bannerViewed:!1,bannerDismissed:!1}),tY(this,"setShouldShowBanner",e=>this.setState({shouldShowBanner:e})),tY(this,"onScrollHybridBanner",e=>{let{isSafari:t,trackConversionUpsell:n,checkExperiment:i}=this.props;if(i("dweb_upsell_manager_mvp_2").anyEnabled){let i=tK();c.Z.emitEvent("onScrollHybridBanner",{evt:e,isSafari:t,trackConversionUpsell:n,isInOpenModalExperience:i,UnauthHybridBannerClassComponent:this});return}let o=0,s=e&&e.target instanceof Document?e.target:null;if(s&&s.documentElement&&s.documentElement.scrollTop>0?o=s.documentElement.scrollTop:s&&s.body&&s.body.scrollTop>0&&(o=s.body.scrollTop),o<64)this.state.shouldShowBanner&&!this.state.bannerDismissed&&(n({element:13893,eventType:10243}),this.state.bannerDismissed=!0),this.setShouldShowBanner(!1);else if(o<4e3){let e=this.state.shouldShowBanner;this.setState(e=>({shouldShowBanner:tK()||t||3!==e.scrollSessionCount,scrollSessionCount:Math.ceil(o/800)}),()=>{e||!this.state.shouldShowBanner||this.state.bannerViewed||(n({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),this.state.bannerViewed=!0)})}else!l.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&!tK()&&t&&e&&e.preventDefault()}),tY(this,"onScrollHybridBannerThrottled",(0,G.Z)(this.onScrollHybridBanner,10))}componentDidMount(){window.addEventListener("scroll",this.onScrollHybridBannerThrottled)}componentWillUnmount(){window.removeEventListener("scroll",this.onScrollHybridBannerThrottled)}render(){let{inviter:e,setHasDismissedBottomRightUpsell:t}=this.props,{shouldShowBanner:n}=this.state;return(0,T.jsx)(p.xu,{children:(0,T.jsx)(tX,{inviter:e,setHasDismissedBottomRightUpsell:t,shouldShowBanner:n})})}}let tQ=e=>{let{isBot:t}=(0,H.B)(),{logContextEvent:n}=(0,Z.v)(),{userAgent:{browserName:i}}=(0,H.B)(),{trackConversionUpsell:o}=(0,tq.Z)(),{checkExperiment:s}=(0,r.F)();return t?null:(0,T.jsx)(tJ,{...e,checkExperiment:s,isSafari:(0,S.G6)(i),logContextEvent:n,trackConversionUpsell:o})};var t0=n(986523);let t1=(0,k.Z)(()=>Promise.all([n.e("28507"),n.e("45565")]).then(n.bind(n,646301)),void 0,e=>646301,"app-packages-desktopLoginModal-SignupUpsellModal"),t3=["passwordReset","passwordUserName","topic","flashlight","todayTab","todayArticleFeed","todayArticleInterestFeed","ideasHub","ideasRoot","invited","pinBookmarklet","shoppingRoot","shoppingCategory","videosRoot","videosCategory"];function t2({hideDesktopSignupModal:e,inviter:t,pageType:n,signupModalState:i,shouldShowSignupWelcomeLoading:o,setShouldShowSignupWelcomeLoading:r}){let a=(0,t0.Z)(),c=(0,f.TH)(),[u,d]=(0,s.useState)(l.ZP.getItem(tW.EA)??!1);(0,s.useEffect)(()=>{l.ZP.setItem(tW.EA,u)},[u]);let h=!a&&!(({pageType:e,location:t})=>t3.includes(e)||(0,D.Ni)(t)||(0,D.C$)(t)||(0,D.Xn)(t)||"/invited/"===t.pathname||t.pathname.startsWith("/about/"))({location:c,pageType:n});return(0,T.jsxs)(s.Fragment,{children:[h&&!u&&(0,T.jsx)(tQ,{inviter:t,setHasDismissedBottomRightUpsell:d}),i.modal.isShown&&(0,T.jsx)(W.Z,{children:(0,T.jsx)(t1,{displayProps:i.modal.displayProps,hideDesktopSignupModal:e,inviter:t,pageType:n,setShouldShowSignupWelcomeLoading:r})}),o&&(0,T.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:new p.Ry(100),children:(0,T.jsx)(tG.Z,{})})]})}var t8=n(756219),t6=n(818244),t4=n(505633),t7=n(746868);let t5=(e,t)=>(0,eQ.nP)(`pinner_conversion.upsell.dweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t}),t9=(e,t)=>{switch(t.type){case"dismiss":return{...e,modal:{isShown:!1}};case"show":return{...e,modal:{isShown:!0,displayProps:t.displayProps}};default:return e}},ne=()=>(0,s.useReducer)(t9,{modal:{isShown:!1}}),nt=604800,nn=(e,t=nt)=>{let n=(0,a.M0)().getItem(e);return n&&Date.now()-parseInt(n,10)>1e3*t},ni=(e=nt)=>{let t=(0,a.M0)().getItem(eq.TO);return nn(eq.On,e)||!t?0:parseInt(t,10)||0},no=(e=nt)=>{let t=ni(),n=(0,a.M0)();if(nn(eq.On,e)||!t)try{n.setItem(eq.TO,1),n.setItem(eq.On,Date.now())}catch(e){console.error(e)}else try{n.setItem(eq.TO,t+1)}catch(e){console.error(e)}};var ns=n(331506),nr=n(865043),na=n(736328),nl=n(925201);let nc=e=>{switch(e){case"todayArticleFeed":return{eligible:!0,container:"todayArticleFeed"};case"todayTab":return{eligible:!0,container:"todayTab"};default:return{eligible:!1}}},nu=({pageType:e})=>{let[t,n]=ne(),{loginForMore:i}=(0,eC.H)(),o=(0,f.k6)(),u=(0,na.Z)(),{viewType:p,viewParameter:h}=(0,t7.SU)(),{trackConversionUpsellForContext:_}=(0,tq.A)(),{unauthUserStateDispatch:m}=(0,d.R)(),{checkExperiment:g}=(0,r.F)(),w=g("dweb_upsell_manager_mvp_2"),b=({shouldDoSideEffects:t})=>{if(w.anyEnabled){let o=nc(e).eligible;c.Z.emitEvent("hideDesktopSignupModal",{shouldDoSideEffects:t,loginForMore:i,isEligibilityLoginForMore:o,dispatchSignupModalAction:n,logDesktopSignupModalEvent:t5});return}t&&i&&nc(e).eligible&&i.setVisible(!1),n({type:"dismiss"}),t5("dispatch_dismiss",{shouldDoSideEffects:t})},v=e=>{if(w.anyEnabled){c.Z.emitEvent("showDesktopSignupModal",{displayProps:e,trackInteraction:u,viewType:p,viewParameter:h,trackConversionUpsellForContext:_,logDesktopSignupModalEvent:t5,dispatchSignupModalAction:n});return}n({type:"show",displayProps:e});let{attributionLabel:t,signupFlow:i,reason:o}=e;u({action:"trigger",item:i.type.includes("signup")?"signup-modal":"login-modal"}),_({viewType:p,viewParameter:h,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[o]||13322,component:"login"===i.type?14212:14214,upsellReason:t}),t5("dispatch_show",{attributionLabel:t,modalType:i.type,reason:o})},y=(e,t)=>v({signupFlow:{type:"login"},attributionLabel:t,container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}),x=!!i?.visible,S=(0,s.useRef)(x);return(0,s.useEffect)(()=>{if(x!==S.current){S.current=x;let t=nc(e);t.eligible&&(x?y(t.container,"loginForMoreIsVisible"):b({shouldDoSideEffects:!0}))}}),(0,s.useEffect)(()=>{(0,nr.My)(`unauth_web.unauth_page_wrapper.${e}.mounted.is_mobile_false`),"p100"===(0,V.mB)(window.location.search).utm_source&&tV()},[]),{hideDesktopSignupModal:b,pinImageClickHandler:({event:e,pinId:t,seoUrl:n,linkTarget:i})=>{if(e&&e.preventDefault(),w.anyEnabled){let e=!1;if(tK()||c.Z.emitEvent("pinView",{pinId:t,seoUrl:n,history:o,linkTarget:i,onUpsellTriggerCallback:()=>{e=!0}}),!e){let e=(0,ns.bN)({pinId:t,seoUrl:n});if("fullPageLoad"===i)(0,t4.Z)(e,!1);else if("duploClientNav"===i)o.push(e);else{let t=window.open(e,"_blank");t?.focus()}}return}let s=null;if(!tK()){let e=(0,a.M0)().getItem(eq.cu)??0;e+1>=4&&!l.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&(l.ZP.setItem("HAS_SEEN_LOGIN_MODAL","true"),s={mt:"login"},(0,nr.My)("dweb.navigational.upsell.show")),(0,a.M0)().setItem(eq.cu,e+1),m({type:"UPDATE"})}let r=(0,nl.Z)((0,ns.bN)({pinId:t,seoUrl:n}),s||{});if("fullPageLoad"===i){(0,t4.Z)(r,!1);return}if("duploClientNav"===i)o.push(r);else{let e=window.open(r,"_blank");e?.focus()}b({shouldDoSideEffects:!1})},pinLinkClickHandler:()=>{if(no(),tK())return;let e=ni();(2===e||e%5==0)&&y("hybrid_clickthrough","pinLinkClickHandler_tier1")},modalOpened:!!t.modal.isShown,showDesktopSignupModal:v,signupModalState:t,showGoogleOneTapTriggeredModal:e=>{switch(e.type){case"CLICK_LOGIN_BUTTON":v({signupFlow:{type:"login"},attributionLabel:"tap_googleOneTap_login",source:"login",container:"google_one_tap_modal",reason:"CLICK_LOGIN_OR_SIGNUP"});break;case"LOGIN_ERROR":v({signupFlow:{type:"login"},source:"login",reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_loginError"});break;case"MFA":v({signupFlow:{type:"loginMfa",creds:{google_open_id_token:e.mfaGoogleOpenId}},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_mfa"});break;case"GDPR_REQUIRES_AGE":v({signupFlow:{type:"socialSignupWithAge",registrationCredentials:e.socialRegistrationCredentials},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_gdprRequiresAge"})}},trackConversionUpsellForContext:_}};var nd=n(40679),np=n(214879),nh=n(213491);let{Provider:n_,useHook:nm}=(0,nh.Z)("NativeAppInstalled");function ng({children:e}){let[t,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),r=(0,s.useCallback)(e=>{n(e)},[]),a=(0,s.useCallback)(e=>{o(e)},[]);(0,s.useEffect)(()=>{!async function(){let e=await (0,np.Z)();o(!0),e.length>0&&n(!0)}()},[]);let l=(0,s.useMemo)(()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:r,isCheckComplete:i,setIsCheckCompleteVal:a}),[t,r,i,a]);return(0,T.jsx)(n_,{value:l,children:e})}var nf=n(20717),nw=n(250459),nb=n(874288),nv=n(248481),ny=n(818906),nx=n(411657);function nS({children:e}){let t;let{isAuth:n}=(0,m.Z)(),{isBot:i}=(0,H.B)(),o=(0,f.TH)(),a=(0,f.$B)(),[l,c]=(0,s.useState)((0,D.uM)(o)?{isStoryPin:"unknown"}:null);(0,s.useEffect)(()=>{c((0,D.uM)(o)?{isStoryPin:"unknown"}:null)},[o]);let u=(0,s.useCallback)(e=>c({isStoryPin:e}),[]),{userAgent:d,userAgentPlatform:p}=(0,g.v9)(({session:e})=>({userAgent:e.userAgent,userAgentPlatform:e.userAgentPlatform}),g.wU),h=(0,nb.Z)()||(0,nv.Rp)({isBot:i,platform:p,userAgent:d}),{checkExperiment:_}=(0,r.F)(),[w,b]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[x,S]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!1),k=(0,ny.Z)();return n||(t={appInstallBannerIsEnabled:h&&((0,D.uM)(o)||(0,D.am)(o)||(0,D.$Y)(o)||(0,D.E0)(o)||(0,D.Zz)(o)||(0,D.dr)(o)||(0,D.tZ)(o)||(0,D.Q0)(o)||(0,D.f1)(o)||(0,D.OX)(o)||(0,D.gT)(o)||(0,D.bW)(o)||(0,D.En)(o)||(0,D.wg)(o)||"/unauth-profile"===a.path||"/:username"===a.path||"/:username/:slug/:section_slug"===a.path||(0,D.Xn)(o)||("/:username/_created"===a.path||"/:username/_saved"===a.path)&&"enabled_add_tabs"===_("pcons_header_on_created_and_saved_tab").group),hasScrolledPastMainContent:w,setHasScrolledPastMainContent:b,hasDraggedDrawerToFullScreen:v,setHasDraggedDrawerToFullScreen:y,pinPageGlobalContext:l,onPinTypeLoad:u,shouldShowLearningUpsell:x,setShouldShowLearningUpsell:S,shouldShowHomepageAppUpsellSheet:E,setShouldShowHomepageAppUpsellSheet:P,unauthSavedPinsStore:k}),(0,T.jsx)(nx.D,{value:t,children:e})}var nE=n(116980),nP=n(443643),nk=n(497491),nT=n(866729);function nA(){let e=(0,_.ZP)(),t=(0,nT.Z)(),n=(0,nk.Z)();if(!t)return null;let i="desktop"===e?nP.$:nP.J,o="phone"===e?nE.SB:nE.Pw;return n?(0,T.jsx)(p.xu,{height:o,position:"fixed",width:"100%",zIndex:i}):"desktop"===e?(0,T.jsx)(p.xu,{height:o,width:"100%"}):(0,T.jsx)(p.Le,{top:0,zIndex:i,children:(0,T.jsx)(p.xu,{height:o,width:"100%"})})}var nj=n(698330);let nI=()=>{let e=(0,R.ZP)(),{selectedNav:t,togglePanelState:n,isPanelOpen:i}=ty(),{appUI:{showTypeaheadOverlay:o}}=(0,ef.I)(),{country:r,isAuthenticated:a}=(0,H.B)(),l=a||"JP"!==r?e._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'):e._('Explore ideas', 'unauth.header.tabs.ideas.jp', 'label for jp ideas hub'),c=(0,s.useRef)(null),u=i("settings"),d=(0,nj.Z)();return(0,T.jsx)(tT,{showTypeaheadOverlay:o,children:(0,T.jsxs)(tx,{height:"100%",justifyContent:"between",children:[(0,T.jsxs)(tx,{children:[(0,T.jsx)(tk,{}),(0,T.jsx)(tS,{children:(0,T.jsx)(tm.T,{accessibilityLabel:l,dataTestId:"vertical-nav-ideas-button",href:"/ideas",iconName:"today",selected:"ideas"===t})}),d?(0,T.jsx)(tS,{children:(0,T.jsx)(tm.T,{accessibilityLabel:e._('Shop', 'unauth.header.tabs.shop', 'label for the shopping hub tab'),dataTestId:"vertical-nav-shopping-button",href:"/shopping",iconName:"shopping",selected:"shopping"===t})}):null]}),(0,T.jsx)(tm.T,{ref:c,accessibilityControls:"VerticalNav-MoreOptions-Flyout",accessibilityLabel:e._('More options', 'verticalNav.moreOptionsButton.tooltip', 'Tooltip text for icon button to open more options/settings menu'),accessibilityPopupRole:"menu",dataTestId:"vertical-nav-more-options-button",iconName:"moreOptions",onClick:()=>n("settings"),selected:u})]})})},nZ=()=>(0,T.jsx)(tv,{isIdeaPinRenamingEnabled:!0,children:(0,T.jsx)(nI,{})}),nC=function(){let e=(0,m.Z)(),{isRTL:t}=(0,H.B)(),n=(0,f.TH)(),i=(0,_.ZP)(),{checkExperiment:o}=(0,r.F)();return{enabled:(0,nj.Z)()&&"desktop"===i&&!(0,D.nU)(n)&&!(0,D.Xn)(n)&&!(0,D.C$)(n)&&!t&&!e.isAuth&&o("web_unauth_vertical_nav").anyEnabled}},nO=(0,k.Z)(()=>Promise.all([n.e("29215"),n.e("48441"),n.e("23900")]).then(n.bind(n,132043)),void 0,e=>132043,"app-www-PageWrapper-UnauthPageWrapperHeader"),nR=(0,k.Z)(()=>n.e("41222").then(n.bind(n,281841)),void 0,e=>281841,"app-www-PageWrapper-UnauthPageWrapperFooter");function nN({children:e,showDesktopSignupModal:t}){let{checkExperiment:n}=(0,r.F)(),{enabled:i}=nC(),o=(0,tZ.Z)(),a=n("unauth_web_skip_link").anyEnabled;return(0,T.jsx)(nS,{children:(0,T.jsxs)(s.Fragment,{children:[(0,T.jsxs)(p.xu,{role:a?"banner":void 0,children:[a&&(0,T.jsx)($.Z,{}),(0,T.jsx)(nO,{fallback:(0,T.jsx)(nA,{}),showDesktopSignupModal:t})]}),i?(0,T.jsx)(nZ,{}):null,(0,T.jsxs)(p.xu,{dangerouslySetInlineStyle:i?{__style:{paddingLeft:o}}:void 0,id:"mweb-unauth-container",role:a?"main":void 0,children:[e,(0,T.jsx)(tt,{})]}),(0,T.jsx)(nR,{})]})})}var nL=n(758594);let nM=nd.Z+tF.Z,nD=({children:e})=>{let t=(0,nw.Z)(),{hideDesktopSignupModal:n,pinImageClickHandler:i,pinLinkClickHandler:o,showDesktopSignupModal:r,signupModalState:a,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}=nu({pageType:t}),u=(0,nf.cO)(),[d,p]=(0,s.useState)(!1),h=(0,s.useMemo)(()=>({isModalShown:a.modal.isShown,showDesktopSignupModal:r,pinImageClickHandler:i,pinLinkClickHandler:o,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}),[a.modal.isShown,r,i,o,l,c]),{setIsAutoplay:_}=(0,ef.I)();return(0,K.Z)(()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,nr.tj)("web.unauth.locale_data",{tz:e})}),(0,K.Z)(()=>{setTimeout(()=>{_(!0)},300)}),(0,T.jsxs)(t6.t,{value:h,children:[(0,T.jsx)(nN,{showDesktopSignupModal:r,children:e}),(0,T.jsx)(t2,{hideDesktopSignupModal:n,inviter:u?.data?.inviter||void 0,pageType:t,setShouldShowSignupWelcomeLoading:p,shouldShowSignupWelcomeLoading:d,signupModalState:a})]})};function nU({children:e}){let{checkExperiment:t}=(0,r.F)();return(0,T.jsx)(z.T,{children:(0,T.jsx)(ex.N,{children:(0,T.jsx)(ng,{children:(0,T.jsx)(nf.xM,{children:(0,T.jsx)(nL.Z,{metricName:"PageWrapper",children:(0,T.jsxs)(p.xu,{role:t("unauth_web_skip_link").anyEnabled?void 0:"main",children:[(0,T.jsx)(tl.Z,{unsafeCSS:nM}),(0,T.jsx)(t8.Z,{children:(0,T.jsx)(nD,{children:e})})]})})})})})})}var nz=n(95664),nH=n(375181),nB=n(31725),nF=n(538937),nW=n(805146);let nG=e=>window.addEventListener("appinstalled",()=>{(0,nr.My)("mweb.homescreen_install.installed"),e({event_type:13,view_type:170,component:13126,element:10802})}),n$=(e,t)=>{try{(0,nr.My)("mweb.homescreen_install.shown"),t({event_type:13,view_type:170,component:13126}),e.userChoice.then(e=>{(0,nr.My)(`mweb.homescreen_install.${e.outcome}`),t({view_type:170,component:13126,element:"dismissed"===e.outcome?10359:10360,event_type:102})})}catch(e){window.console.error(e)}},nV=(e,t)=>{let{userAgent:{browserName:n,browserVersion:i},isAuthenticated:o}=e,s=parseInt(i,10),r=!!n&&n.includes("Chrome");window.addEventListener("beforeinstallprompt",e=>o&&r&&s<=67?(n$(e,t),!0):(e.preventDefault(),!1))};var nK=n(843716),nq=n(233550),nY=n(888226);let nX=(e,t)=>{(0,a.M0)().setItem(eq.cX,{version:t,data:e})},nJ=()=>{try{let e=(0,a.M0)().getItem(eq.cX);return e&&{version:e.version,state:e.data}}catch{return null}};var nQ=n(138482),n0=n(722832);let n1=e=>(0,D.uM)(e)?{name:"pin",viewType:3}:(0,D.am)(e)?{name:"board",viewType:5}:(0,nQ.Z)(e)?{name:"profile",viewType:215}:null,n3=e=>e<=10?e.toString():e<=20?"[11,20]":e<=50?"[21,50]":e<=100?"[51,100]":"101+",n2=e=>e?(0,D.bo)(e)&&"today"||(0,D.am)(e)&&"board"||(0,D.C$)(e)&&"home"||(0,D.dr)(e)&&"ideas"||(0,D.gT)(e)&&"ideas-root"||(0,D.Xn)(e)&&"login"||(0,D.uM)(e)&&"pin"||(0,nQ.Z)(e)&&"profile"||(0,D.En)(e)&&"search"||"other":"unknown",n8=(e,t,n,i,o)=>{let{unauthID:s}=n.sessionContext,r="SHOW_MOBILE_SIGNUP_MODAL"===e.type&&e.options.navigationTriggeredUpsell?e.options.navigationTriggeredUpsell.newLocation:null,a=r?n1(r):null,l=a?.viewType||n.currentPageViewType||132;if("SHOW_MOBILE_SIGNUP_MODAL"===e.type&&n.modal.isShown){let{trigger:{attributionLabel:t,reason:i}}=n.modal.displayProps;(0,n0.Z)("dispatch_show",{reason:i,attributionLabel:t,oldPage:e.options.navigationTriggeredUpsell?n2(e.options.navigationTriggeredUpsell.oldLocation):"NOT_APPLICABLE",timesShownForSessionCount:n3(n.timesShownForSessionCount)})}else if("DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown){let{attributionLabel:e,reason:n}=t.modal.displayProps.trigger;(0,n0.Z)("dispatch_dismiss",{reason:n,attributionLabel:e})}if(!t.modal.isShown&&n.modal.isShown){let{attributionLabel:t}=n.modal.displayProps.trigger,r=t.replace(/\./g,"_");i({event_type:13,element:12403,component:13858,view_type:l,aux_data:{unauth_id:s}}),"SHOW_MOBILE_SIGNUP_MODAL"===e.type?((0,nr.NC)(`show_dismissible_mobile_signup_modal_${e.type}_${r}`),o({viewType:l,eventType:14688,component:14216,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[e.options.reason]||13322,upsellReason:r})):(0,nr.NC)(`show_dismissible_mobile_signup_modal_${e.type}`)}else"DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown&&!n.modal.isShown&&(i({event_type:123,component:13858,view_type:l,aux_data:{unauth_id:s}}),(0,nr.NC)("dismiss_mobile_signup_modal"))};var n6=n(658375);let n4=Object.freeze(["CO","ID"]),n7=e=>n4.includes(e),n5=e=>!!(0,nz.dh)(e)&&((0,nY.qn)("msmrsfiiab",void 0)||((0,eQ.nP)("mobile_signup_modal.rules.suppress_for_instagram_in_app_browser"),(0,nY.Nh)("msmrsfiiab","1")),!0),n9=({isUnauthSharingModalsShown:e,modalHasShown:t,sessionContext:{country:n,userAgent:i}})=>e||t&&n7(n)||(0,n6.P)()||n5(i),ie=(e,t)=>{switch(t.type){case"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT":return{...e,upsellEligibleNavigationCount:e.upsellEligibleNavigationCount+1};case"DISMISS_MOBILE_SIGNUP_MODAL":return{...e,modal:{isShown:!1}};case"UPDATE_SESSION_CONTEXT":return{...e,sessionContext:t.sessionContext};case"UPDATE_CURRENT_PAGE_VIEW_TYPE":return{...e,currentPageViewType:t.currentPageViewType};case"RESTORE_FROM_LOCAL_STORAGE":{let{upsellEligibleNavigationCount:n}=t;return{...e,upsellEligibleNavigationCount:n??e.upsellEligibleNavigationCount}}case"SHOW_MOBILE_SIGNUP_MODAL":return{...e,lastShownTime:t.now,timesShownForSessionCount:e.timesShownForSessionCount+1,scrollControllerHasDisplayed:e.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:t.options.headingType,trigger:{attributionLabel:t.options.attributionLabel,reason:t.options.reason}},pinId:t.options.pinId||null}};case"HIDE_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!1};case"SHOW_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!0};default:return e}};function it({children:e,referrer:t}){let{country:n,unauthId:i,userAgent:{raw:o}}=(0,H.B)(),{viewType:r}=(0,t7.SU)(),a=(0,nK.an)(t),l=(0,eK.Z)(),{trackConversionUpsellForContext:c}=(0,tq.A)(),[u,d]=(0,s.useReducer)(ie,{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,sessionContext:{country:n,referrer:a,unauthID:i,userAgent:o},currentPageViewType:r});(0,s.useEffect)(()=>{d({type:"UPDATE_SESSION_CONTEXT",sessionContext:{country:n,referrer:a,unauthID:i,userAgent:o}})},[n,a,i,o]),(0,s.useEffect)(()=>{d({type:"UPDATE_CURRENT_PAGE_VIEW_TYPE",currentPageViewType:r})},[r]);let p=(0,s.useRef)(!1);(0,s.useEffect)(()=>{if(!p.current){p.current=!0;let e=nJ(),t=e&&"v1"===e.version?e.state:null;if(t){let{upsellEligibleNavigationCount:e}=t;d({type:"RESTORE_FROM_LOCAL_STORAGE",upsellEligibleNavigationCount:e})}}},[]);let{scrollControllerHasDisplayed:h,upsellEligibleNavigationCount:_}=u;(0,s.useEffect)(()=>{p.current&&nX({upsellEligibleNavigationCount:_},"v1")},[_]);let m=(0,s.useCallback)(()=>{let e={type:"DISMISS_MOBILE_SIGNUP_MODAL"},t=ie(u,e);n8(e,u,t,l,c),d(e)},[l,u,c]),g=(0,s.useCallback)(()=>d({type:"HIDE_UNAUTH_SHARING_MODALS"}),[]),f=(0,s.useCallback)(e=>{let t={type:"SHOW_MOBILE_SIGNUP_MODAL",now:Date.now(),options:e},n=ie(u,t);n8(t,u,n,l,c),d(t)},[l,u,c]),w=(0,s.useCallback)(()=>d({type:"SHOW_UNAUTH_SHARING_MODALS"}),[]),b=(0,s.useCallback)(()=>!u.modal.isShown&&!n9({isUnauthSharingModalsShown:u.isUnauthSharingModalsShown,sessionContext:u.sessionContext,modalHasShown:!!u.lastShownTime}),[u.modal.isShown,u.isUnauthSharingModalsShown,u.sessionContext,u.lastShownTime]),v=(0,s.useCallback)(()=>d({type:"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT"}),[]),y=(0,s.useMemo)(()=>({modal:u.modal,dismissMobileSignupModal:m,hideUnauthSharingModals:g,showMobileSignupModal:f,showUnauthSharingModals:w,upsellIsEnabledGlobally:b,incrementUpsellEligibleNavigationCount:v,scrollControllerHasDisplayed:h,upsellEligibleNavigationCount:_,trackConversionUpsellForContext:c}),[u.modal,m,g,f,w,b,v,h,_,c]);return(0,T.jsx)(nq.r,{value:y,children:e})}var ii=n(451503),io=n(157498),is=n(618363);let ir=(0,k.Z)(()=>Promise.all([n.e("29215"),n.e("14803")]).then(n.bind(n,143842)),void 0,e=>143842,"app-www-PageWrapper-AuthMobileHeader"),ia=(0,k.Z)(()=>Promise.all([n.e("6608"),n.e("29215"),n.e("6150")]).then(n.bind(n,972114)),void 0,e=>972114,"app-www-PageWrapper-AuthPageWrapperFooter"),il=(0,k.Z)(()=>Promise.all([n.e("29215"),n.e("48441"),n.e("23900")]).then(n.bind(n,132043)),void 0,e=>132043,"app-www-PageWrapper-UnauthPageWrapperHeader"),ic=(0,k.Z)(()=>n.e("41222").then(n.bind(n,281841)),void 0,e=>281841,"app-www-PageWrapper-UnauthPageWrapperFooter"),iu=(0,k.Z)(()=>n.e("52700").then(n.bind(n,975076)),void 0,e=>975076,"app-www-NavFooter-NavFooter"),id=({isAuthenticated:e,location:t,hasNux:n,hasEmailUpdate:i,shouldHideNavFooter:o,viewingUsername:s,experimentsClient:r})=>s&&(0,D.J)(t,s)||t.pathname.endsWith("/organize/repin/")||t.pathname.endsWith("/profile-about/")||t.pathname.startsWith("/about/")||t.pathname.startsWith("/convert-business")||t.pathname.startsWith("/convert-personal")||t.pathname.startsWith("/close-account")||t.pathname.startsWith("/switch_account")||t.pathname.startsWith("/add-account")||t.pathname.startsWith("/request-data")||t.pathname.match(/pin\/.+\/repin/)||t.hash===`#${nW.v}`||t.pathname.startsWith("/board/create/")||"/inbox/compose/"===t.pathname||t.pathname.startsWith("/parental-passcode")||"/search/me/"===t.pathname||"/search/people/"===t.pathname||t.pathname.startsWith("/today-articles")||t.pathname.startsWith("/oauth")||(0,D.C$)(t)&&(n||i||!e)||(0,D.Xn)(t)||(0,D.gf)(t)||(0,D.re)(t)||(0,D.FO)(t)||(0,D.pV)(t)||(0,D.jC)(t)||(0,D.XE)(t)||(0,D.Fy)(t)||(0,D.AX)(t)||(0,D.pD)(t)||(0,D.Ui)(t)||(0,D.KY)(t)||(0,D.Ni)(t)||(0,D.b0)(t)||(0,D.mP)(t)||(0,D.bW)(t)||(0,D.dt)(t)||(0,D.e)(t,r)||o,ip=()=>{let e=(0,F.Z)({name:"UserSettingsResource"});return(0,T.jsx)(ia,{userSettingsResourceRef:e})},ih=7*nH.F4,i_=({isAuth:e,children:t})=>{let n=(0,f.TH)(),{checkExperiment:i}=(0,r.F)(),o=nm(),a=(0,nF.n)(),l=(0,io.Tt)(),{userAgent:c}=(0,g.v9)(e=>e.session),[u,d]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let{invite_code:t,utm_source:i}=(0,V.mB)(n.search);e&&!(0,nz.ry)(c)&&o.isCheckComplete&&!o.isNativeAppInstalled&&(0,nv.kp)((0,nB.Z)(l?.created_at),ih)&&("email"===i||i===String(31))&&!((0,D.ej)(n)||(0,D.C$)(n)||(0,D.q_)(n))&&(a.setShowReferredAppUpsellVal(!0),""===a.uiType&&(a.setAppUpsellTypeVal("auth-email-referred"),a.setUiTypeVal("full"))),!(0,nz.ry)(c)&&o.isCheckComplete&&!o.isNativeAppInstalled&&(0,nv.kp)((0,nB.Z)(l?.created_at),ih)&&t&&(a.setShowReferredAppUpsellVal(!0),""===a.uiType&&(a.setAppUpsellTypeVal(e?"auth-social-referred":"unauth-social-referred"),a.setUiTypeVal("bottom")))},[i,l,e,o.isCheckComplete,o.isNativeAppInstalled,n,a,c]),(0,s.useEffect)(()=>{(0,nz.ry)(c)&&u&&(d(!1),a.setShowReferredAppUpsellVal(!0),""===a.uiType&&(a.setAppUpsellTypeVal(e?"auth-social-iab":"unauth-social-iab"),a.setUiTypeVal("bottom")))},[i,l,e,a,u,c]),(0,T.jsx)(nL.Z,{metricName:"PageWrapper",children:(0,T.jsxs)(p.xu,{color:"default",minHeight:"100vh",role:"main",children:[e?(0,T.jsx)(ir,{}):(0,T.jsx)(il,{fallback:(0,T.jsx)(nA,{})}),(0,T.jsx)(p.xu,{id:e?"":"mweb-unauth-container",children:t}),e?(0,T.jsx)(ip,{}):(0,T.jsx)(ic,{})]})})};function im({children:e}){let t=(0,f.TH)(),{isAuth:n,username:i}=(0,m.Z)(),{referrerFromCookie:o,isAuthenticated:a,isBot:l}=(0,H.B)(),{setIsAutoplay:c}=(0,ef.I)(),{checkExperiment:u}=(0,r.F)(),d=(0,r.F)(),{setIsNavFooterHiddenAfterScroll:h}=(0,ii.U)(),_=(0,g.I0)();!function(){let e=(0,H.B)(),t=(0,eK.Z)();(0,K.Z)(()=>{nV(e,t),nG(t)})}();let w=(0,g.v9)(e=>e.experiences[40001]?.experience_id===500681),b=u("mweb_delay_renux_for_resurrected_user",{dangerouslySkipActivation:!0}).group||"",v=u("mweb_scroll_based_renux",{dangerouslySkipActivation:!0}).group||"",y=(0,g.v9)(({experiences:e})=>!b&&!v||b.includes("control")||v.includes("control")?[40002,500450].includes(e[40001]?.experience_id??0):[40002].includes(e[40001]?.experience_id??0)),x=(0,g.v9)(e=>e.session.shouldHideNavBar);(0,s.useEffect)(()=>{!t||l||(0,D.uM)(t)||h(!1)},[l,t,_,h]),(0,K.Z)(()=>{setTimeout(()=>{c(!0)},300)});let S=!id({isAuthenticated:a,location:t,hasNux:y,hasEmailUpdate:w,shouldHideNavFooter:x,viewingUsername:i,experimentsClient:d}),E={__style:{...S?{paddingBottom:68}:{}}};return(0,T.jsx)(p.xu,{dangerouslySetInlineStyle:E,children:(0,T.jsx)(nS,{children:(0,T.jsx)(it,{referrer:o,children:(0,T.jsx)(nF.P,{children:(0,T.jsx)(ng,{children:(0,T.jsx)(is.Z,{graphqlRef:null,children:(0,T.jsxs)(nf.xM,{children:[S?(0,T.jsx)(p.xu,{as:"nav",children:(0,T.jsx)(iu,{})}):null,(0,T.jsx)(i_,{isAuth:n,children:e})]})})})})})})})}function ig({children:e}){let{isAuth:t}=(0,m.Z)(),n=(0,_.HG)();return((0,h.Z)(),n&&t)?(0,T.jsx)(p.xu,{minHeight:"100vh",children:(0,T.jsx)(tB,{children:e})}):n&&!t?(0,T.jsx)(nU,{children:e}):(0,T.jsx)(im,{children:e})}var iw=n(691825),ib=n(500559),iv=n(935013),iy=n(11442);async function ix(){let{default:e}=await n.e("71010").then(n.bind(n,565936)),t=Date.now(),i=await e.load(),o=await i.get(),s=Date.now();(0,eQ.LY)("fingerprint.time",s-t,{sampleRate:1});let{components:r}=o;for(let e in r){let{duration:t}=r[e];(0,eQ.LY)("fingerprint.componentDuration",t,{sampleRate:.1,tags:{component:e}})}return o.visitorId}var iS=n(800213),iE=n(204807),iP=n(33259),ik=n(167336),iT=n(922808),iA=n(849232),ij=n(517186),iI=n(716042),iZ=n(415316),iC=n(967515),iO=n(168584),iR=n(753977),iN=n(281213),iL=n(8933),iM=n(989882),iD=n(264267),iU=n(211405),iz=n(954934);class iH extends s.Component{constructor(e){super(e),this.state={bannerStatus:this.props.isOffline?"offline":"hidden"}}getSnapshotBeforeUpdate(e){let{isOffline:t}=this.props,{isOffline:n}=e;return n===t||(this.setState({bannerStatus:t?"offline":"backOnline"}),t||setTimeout(()=>{this.props.isOffline?this.setState({bannerStatus:"offline"}):this.setState({bannerStatus:"hidden"})},2e3)),null}componentDidUpdate(){}render(){let{bannerStatus:e}=this.state;return"hidden"!==e&&(0,T.jsx)(p.Le,{top:0,zIndex:new p.Ry(20),children:(0,T.jsx)(p.xu,{alignItems:"center",color:"backOnline"===e?"successBase":"secondary",display:"flex",flex:"grow",height:"100%",justifyContent:"center",padding:3,children:(0,T.jsxs)(p.xv,{align:"center",color:"backOnline"===e?"inverse":"default",size:"200",weight:"bold",children:[(0,T.jsx)(p.xu,{display:"inlineBlock",marginBottom:-1,marginEnd:1,marginStart:1,children:(0,T.jsx)(p.JO,{accessibilityLabel:e?this.props.i18n._('online', 'online icon label', 'online label'):this.props.i18n._('offline', 'offline icon label', 'offline icon label'),color:"backOnline"===e?"inverse":"default",dangerouslySetSvgPath:{__path:"backOnline"===e?iz.Z:iU.Z}})}),"backOnline"===e?this.props.i18n._('You\'re back online!', 'back online message', 'back online message'):this.props.i18n._('You\'re offline! Check your internet connection.', 'not online message', 'not online message')]})})})}}let iB=function(e){let t=(0,R.ZP)();return(0,T.jsx)(iH,{...e,i18n:t})};var iF=n(484125);function iW(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class iG extends s.Component{constructor(...e){super(...e),iW(this,"handleBeforeInstallPrompt",e=>{this.installPromptEvent=e}),iW(this,"beforeInstallPromptGetter",()=>this.installPromptEvent),iW(this,"installPromptEvent",null)}componentDidMount(){window.addEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}componentWillUnmount(){window.removeEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}render(){return(0,T.jsx)(iF.Z.Provider,{value:this.beforeInstallPromptGetter,children:this.props.children})}}var i$=n(616870),iV=n(307618),iK=n(470131),iq=n(485158);function iY({children:e}){let[t,n]=(0,s.useState)(""),[i,o]=(0,iK.YD)({threshold:0}),[r,a]=(0,s.useState)(!1),l=(0,s.useMemo)(()=>({currentPin:t,hasClickedMoreLikeThisButton:r,moreLikeThisButtonRef:i,moreLikeThisButtonInView:o,setCurrentPin:n,setHasClickedMoreLikeThisButton:a}),[t,r,i,o,n,a]);return(0,T.jsx)(iq.j,{value:l,children:e})}var iX=n(301527);function iJ(){let e=(0,R.ZP)();return window.navigator.cookieEnabled?null:(0,T.jsx)(p.xu,{margin:2,children:(0,T.jsx)(p.ci,{iconAccessibilityLabel:"Error",message:e._('Please enable cookies and try again', 'Message informing users to enable cookies', 'Message informing users to enable cookies'),title:e._('Oh no! Pinterest doesn\'t work unless you enable cookies.', 'Toast that displays when a user has cookies disabled', 'Toast that displays when a user has cookies disabled'),type:"error"})})}var iQ=n(906449),i0=n(447926);let i1="_epik_localstore";function i3(){let e=(0,m.Z)(),t=(0,H.B)(),{country:n}=t,i=t.countryFromIp,{countryFromHostName:o}=t,r=new Set(iQ.Z),a=r.has(n)||r.has(i)||r.has(o),{allow_analytic_cookies:l,allow_personalization_cookies:c,epik:u,isAuth:d}=e.isAuth?e:{};return(0,s.useEffect)(()=>{if(d){if(a&&!(l&&c))(0,i0.L_)(i1);else if(u){var e;e=new Date().getTime()+nH.N1,(0,i0.Nh)(i1,JSON.stringify({value:u,expiry:e}))}}},[d,u,a,l,c]),null}var i2=n(138729),i8=n(63805),i6=n(970414),i4=n(504644),i7=n(496807),i5=n(464180),i9=n(308686),oe=n(615695),ot=n(92242),on=n(359496),oi=n(846277);let oo=()=>{let e=(0,on.Z)();return(0,s.useCallback)((t,n)=>e(t,{loggingOptions:n}),[e])};function os({children:e}){let{country:t,isAuthenticated:n,userAgent:{browserName:i,platform:o}}=(0,H.B)(),r=(0,_.ZP)(),{id:a}=(0,m.Z)(),{loggedOutUserInfo:l}=(0,g.v9)(({session:e})=>({loggedOutUserInfo:e.loggedOutUserInfo}),g.wU),c=(0,g.v9)(({users:e})=>e[a]),u=(0,s.useMemo)(()=>c&&(0,oi.xT)(c)?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!c.connected_to_facebook,connectedToGoogle:!!c.connected_to_google,email:c.email??"",firstName:c.first_name??"",hasPassword:!!c.has_password,imageUrl:c.image_xlarge_url??null}}:n?{type:"AUTH",info:null}:{type:"UNAUTH",info:l&&l.email&&l.first_name?{connectedToFacebook:!!l.connected_to_facebook,connectedToGoogle:!!l.connected_to_google,email:l.email,firstName:l.first_name,hasPassword:!!l.has_password,imageUrl:l.medium_image_url??null}:null},[n,l,c]),d=oo(),p="mobile"===r||"tablet"===r,h=(0,s.useMemo)(()=>({getDeviceAppTypeString:()=>`${p?"mobile":"desktop"}.${t}.${o}.${i||"unknown"}`.replace(/ /g,"_"),register:d,viewer:u}),[i,t,p,d,o,u]);return(0,T.jsx)(P.I7,{value:h,children:e})}var or=n(278277),oa=n(538800),ol=n(174170);let oc="FIRST_DELAY_REFRESH_TIME_KEY",ou=e=>{let t=Date.now(),n=(0,i0.qn)(oc);n=n?parseInt(n,10):null;let i="unknown";if(n){let e=(t-n)/36e5;0===e?i="0":e>0&&e<=6?i="0-6":e>6&&e<=12?i="6-12":e>12&&e<=24?i="12-24":e>24&&e<=48?i="24-48":e>48&&e<=72?i="48-72":e>72&&(i="72+")}return{elapsedTimeBucket:i,firstDelayTime:n,maxStalenessReached:n&&t-n>36e5*e}};var od=n(490515),op=n(872003),oh=n(300899),o_=n(15874),om=n(187580),og=n(167021);let of=["www/news_hub/[id].js","www/[username]/_pins.js","www/[username]/pins.js","www/board/create/cluster/[clusterId].js"];var ow=n(285676),ob=n(177433),ov=n(956701),oy=n(500912),ox=n(562400),oS=n(400289);let oE=e=>"phone"===e?"sm":"tablet"===e?"md":"lg",oP=e=>e<768?"sm":e<1024?"md":"lg";function ok({children:e}){let{isTablet:t,isMobile:n}=(0,H.B)().userAgent,[i,o]=(0,s.useState)(oE(t?"tablet":n?"phone":"desktop")),r=()=>o(oP(window.innerWidth)),a=(0,s.useCallback)((0,ox.Z)(r,200),[]);return(0,s.useEffect)(()=>(r(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[]),(0,T.jsx)(oS.I,{value:i,children:e})}var oT=n(485633),oA=n(812680);let oj={selectedStelaItem:null};function oI(e=oj,t){return"STELA_SELECT"===t.type?{...e,selectedStelaItem:t.payload.selectedStelaItem}:e}let{Provider:oZ}=(0,nh.Z)("Stela");function oC({children:e}){let[t,n]=(0,s.useReducer)(oI,oj),i=(0,s.useCallback)(({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})},[]),o=(0,s.useMemo)(()=>({stela:t,selectStela:i}),[t,i]);return(0,T.jsx)(oZ,{value:o,children:e})}var oO=n(883097),oR=n(378199),oN=n(529312);let oL="https://ct.pinterest.com/ct.html";function oM(e,t){let n=new Date,i={value:t,expiry:t?n.getTime()+nH.N1:null};e.contentWindow.postMessage({key:"_epik_localstore",value:JSON.stringify(i)},oL)}function oD(){let e=(0,s.useRef)(null),t=(0,m.Z)(),n=(0,H.B)(),{country:i}=n,o=n.countryFromIp,{countryFromHostName:r}=n,a=new Set(iQ.Z),l=a.has(i)||a.has(o)||a.has(r),{allow_analytic_cookies:c,allow_personalization_cookies:u,epik:d,isAuth:p}=t.isAuth?t:{},h=e.current;return(0,s.useEffect)(()=>{h&&p&&h instanceof HTMLIFrameElement&&h.contentWindow&&((!l||c&&u)&&d?oM(h,d):oM(h,null))},[t,c,u,d,p,l,h]),(0,T.jsx)("iframe",{ref:e,"aria-hidden":"true",id:"epik_localstore",src:oL,style:{display:"none"},title:"iframe to send EPIK"})}var oU=n(420711),oz=n(989304);let oH={childList:!0,attributes:!0,subtree:!0};function oB({children:e}){let t=(0,s.useRef)(null),n=(0,m.Z)(),{enabled:i}=(0,tI.Z)(),{enabled:o}=nC(),[r,a]=(0,s.useState)(i||o?e9.Qf:0),l=(0,s.useMemo)(()=>({width:r}),[r]);return((0,s.useEffect)(()=>{let e=document.getElementById(e9.Lc),n=()=>a(e?e.offsetWidth:0);return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,oH)),n(),()=>{t.current?.disconnect()}}),n.isAuth)?(0,T.jsx)(oz.E,{value:l,children:(0,T.jsx)(oU.t,{children:e})}):(0,T.jsx)(oz.E,{value:l,children:e})}var oF=n(178355),oW=n(810752),oG=n(413073);let o$=(0,k.Z)(()=>n.e("93563").then(n.bind(n,360191)),{ssr:!1}),oV=["utm_pai","utm_source","invite_code"],oK=({isMobile:e,isTablet:t,window:n,trackRegisterAction:i})=>{try{let o="desktop";e?o="mobile":t&&(o="tablet");let s="no_preference",r="no_preference",a="no_preference",l="no_preference";n.matchMedia&&(n.matchMedia("(prefers-color-scheme: dark)").matches?s="dark":n.matchMedia("(prefers-color-scheme: light)").matches&&(s="light"),n.matchMedia("(prefers-reduced-motion: reduce)")&&(r="reduced"),n.matchMedia("(prefers-reduced-data: reduce)")&&(a="reduced"),n.matchMedia("(prefers-contrast: more)")?l="more":n.matchMedia("(prefers-contrast: less)")&&(l="less")),i("accessibility_preferences.success",{prefersColorScheme:s,uiDevice:o,prefersReducedMotion:r,prefersContrast:l,prefersReducedData:a})}catch{i("accessibility_preferences.error")}};function oq({children:e,pwaContext:t}){let n=(0,_.ZP)(),i=(0,f.TH)(),{username:o,isPartner:a}=(0,m.Z)(),c=(0,oG.U)(),u=(0,H.B)(),{appTypeDetailed:p,isAuthenticated:h,isBot:w,stage:b,userAgent:{isMobile:v,isTablet:y}}=u,x=!v&&!y,S=h&&x,E=(0,Z.v)(),P=(0,na.Z)(),k=(0,iA.l5)(),{unauthUserStateDispatch:A}=(0,d.R)(),j=(0,s.useRef)(i),C=(0,s.useRef)(h),R=(0,g.I0)(),{checkExperiment:N}=(0,r.F)(),D=(0,g.v9)(({session:e})=>e.isCachedRender),U=(0,g.v9)(({users:e})=>{let t=Object.keys(e).find(t=>void 0!==e[t].login_state);return!!t&&(0,oi.xT)(e[t])}),z=N("aid_exp_move_custom_shortcuts_context_provider").anyEnabled&&h&&a?iv.r:s.Fragment,{path:B}=(0,f.$B)();!function(){let e=(0,_.ZP)(),{isAuthenticated:t}=(0,H.B)(),{checkExperiment:n}=(0,r.F)(),i=(0,s.useRef)(!1),o=(0,ob.MM)();i.current||(t&&"desktop"===e&&(!n("web_auth_desktop_default_pin_rep").anyEnabled||of.includes(o))?ow.BK.preload():ow.Tw.preload(),i.current=!0)}(),function(){let e=(0,_.ZP)();(0,s.useEffect)(()=>{"desktop"===e?O.bN.preload():O.p4.preload()},[e])}(),function(){let e=(0,g.v9)(({session:e})=>e.isPWA),t=(0,iA.yz)(),n=(0,iA.l5)(),i=(0,i5.Z)(),o=(0,_.HG)(),s=(0,g.v9)(e=>e.session.isAuthenticated)&&o,r=(0,Z.v)();(0,K.Z)(()=>{if(e){let e=t??"unknown",i="unknown"===e?(0,i4.FB)(window)??"unknown":e;r.logContextEvent({view_type:170,view_parameter:(0,i4.Kj)(i,n??"unknown")||void 0,component:13162,event_type:102,aux_data:{pwa_type:i}})}i6.Z.onSessionResume(()=>{s||(0,iy.Z)(),M.Z.resume()}).onSessionPause(e=>{M.Z.pause(),i?.unregisterApp(!1,!0,{type:"PageVisibility.onSessionResume.unregisterApp",pauseReason:e}),"blur"===e||(r.flushContextEvents(!0),(0,i7.Z)()||(0,i9.Qi)())})})}();let F=(0,s.useRef)(!0),[W,G]=(0,s.useState)(!navigator.onLine),[$]=(0,s.useState)((0,V.mB)(i.search).invite_code||null),{activateActivationHoldoutExperiments:q}=function(){let{checkExperiment:e}=(0,r.F)(),t=(0,m.Z)().isAuth;return{activateActivationHoldoutExperiments:(0,s.useCallback)(()=>{e("pinner_conversion_team_holdout_2024_h2")},[e]),userIsEligibleForShippedActivationExperiment:(n,i)=>!t||"h1"===i||"holdout"!==e("pinner_conversion_team_holdout_2024_h2").group}}(),{activateUnauthHoldoutExperiments:Y}=function(){let{checkExperiment:e}=(0,r.F)();return{activateUnauthHoldoutExperiments:(0,s.useCallback)(()=>{e("lop_holdout_unauth_id_h2_2024")},[e]),userIsEligibleForShippedLOPExperiment:()=>"holdout"!==e("lop_holdout_unauth_id_h2_2024").group}}();(0,s.useEffect)(()=>{let e=t=>{"offline"===t.type?(G(!0),window.addEventListener("online",e)):(G(!1),window.removeEventListener("online",e))};return window.addEventListener("offline",e),()=>{window.removeEventListener("offline",e)}},[]),(0,s.useEffect)(()=>{c&&S&&(c.preload?.(oW.ke("index.js")),c.preload?.(oW.ke("pin/[id].js")),c.preload?.(oW.ke("search/[scope].js")),c.preload?.(oW.ke("[username].js")))},[c,S]),(0,s.useEffect)(()=>{h&&q()},[h,q]),(0,s.useEffect)(()=>{h||Y()},[Y,h]),(0,s.useEffect)(()=>{U||setTimeout(async()=>{try{let e=await ix();(0,eX.Z)({url:"/v3/spam/fingerprints/",method:"POST",data:{fingerprint:e}})}catch(e){(0,eQ.nP)("webapp.generateClientFingerprint.failure",{sampleRate:1})}},300)},[U]),(0,s.useEffect)(()=>{(0,iE.ZP)({pageType:v||y||!h?"duplo":"web",requestContext:u,route:B})},[]),function({appType:e,isAuthDesktop:t,isBot:n,newVersionAvailable:i,stage:o}){let a=(0,f.TH)(),c=(0,s.useRef)(a),u=(0,s.useRef)(!1),d=(0,ol.Z)(),{checkExperiment:p}=(0,r.F)(),{anyEnabled:h,group:_}=p("web_optimized_page_refresh");(0,s.useEffect)(()=>{if(i&&!u.current){let t=!!window.navigator.connection&&["slow-2g","2g","3g"].includes(window.navigator.connection.effectiveType),n=parseInt(_.split("enabled_")[1]||"",10);if(window.Cypress)u.current=!1;else if(t||h&&!Number.isNaN(n)){let{maxStalenessReached:i,firstDelayTime:o,elapsedTimeBucket:s}=ou(t?24:n);i?((0,i0.L_)(oc),(0,eQ.nP)("web_skip_hard_refresh_max_stale",{sampleRate:.1,tags:{appType:e,appVersion:d,connectionType:window.navigator.connection?.effectiveType||"unknown",elapsedTimeBucket:s,experimentGroup:_||"unknown"}}),u.current=!0):((0,eQ.nP)("web_skip_hard_refresh",{sampleRate:.1,tags:{appType:e,appVersion:d,connectionType:window.navigator.connection?.effectiveType||"unknown",elapsedTimeBucket:s,experimentGroup:_||"unknown"}}),o||(0,i0.Nh)(oc,Date.now()),u.current=!1)}else u.current=!0}}),(0,s.useEffect)(()=>{c.current!==a&&"latest.pinterest.com"!==window.location.hostname&&((0,oa.Z)({deviceType:t?"desktop":"mobile",eventType:u.current?"refresh":"skipped_refresh",eventName:u.current?"react_hardReloadOnRouteChange":"react_hardReloadOnRouteChange_skipped",stage:o,currVersion:d,isBot:n,appType:e,optimizedPageRefreshExperimentGroup:_||"unknown"}),u.current&&(l.ZP.setItem(tW.jO,!0),window.location.reload(!0))),c.current=a},[a])}({appType:p,isAuthDesktop:S,isBot:w,newVersionAvailable:ib.Z.isNewVersionRequired(),stage:b}),(0,s.useEffect)(()=>{D&&(async()=>{(0,eQ.nP)("webapp.UnifiedWWWApp.fetchState",{sampleRate:1,tags:{appTypeDetailed:p,isAuthenticated:h,isBot:w,isCachedRender:D,isDesktop:x,handler:(0,oF.H)()}});let e=new URLSearchParams({source_url:window.location.pathname}),t=await window.fetch("/_/_/state?"+e.toString(),{method:"GET",mode:"same-origin",keepalive:!0}),n=await t.json();R({type:"REPLACE_STATE",payload:n}),R({type:"FETCH_EXPERIENCES",payload:n.experiences})})()},[R,D]);{let e=document.getElementById("shell-loader");e instanceof HTMLElement&&document.body?.removeChild&&document.body.removeChild(e)}return(0,s.useEffect)(()=>{if(!S){let e=setInterval(()=>E.flushContextEvents(),1e4);return()=>{clearInterval(e)}}},[E,S]),(0,s.useEffect)(()=>{h&&!x&&h!==C.current&&(0,iI.Fv)(),(!C.current&&h||j.current!==i&&j.current.pathname.startsWith("/email/subscription"))&&(0,iy.Z)(),C.current=h},[h,x,i]),(0,s.useEffect)(()=>{let e=(0,ov.Wz)(i,o),t=i!==j.current;(t||F.current)&&R(e),!h&&(t||F.current)&&((0,oR.Z4)(i.pathname,e.payload),A({type:"UPDATE"})),F.current&&(F.current=!1),j.current=i},[R,h,i,A,o,F]),(0,s.useEffect)(()=>{if(F.current){let e=new URLSearchParams(i.search);if(h)(0,iS.Z)();else{let t=(0,nK.an)(""),n=t?new URL(t).hostname:"",i=new URLSearchParams;for(let t of oV)e.has(t)&&i.set(t,e.get(t)||"");let o=i.toString();(n||o)&&(0,or.C)(`${n}${o?"?"+o:""}`)}}},[i,h]),(0,K.Z)(()=>{oK({isAuthenticated:h,isMobile:v,isTablet:y,window,trackRegisterAction:nr.My})}),(0,s.useEffect)(()=>{(0,nr.tj)(`mweb.${h?"auth":"unauth"}.window_size`,{width:void 0!==window.screen&&window.screen.width,height:void 0!==window.screen&&window.screen.height})},[h]),(0,s.useEffect)(()=>{let e=(e,t)=>{(0,nr.tj)(`mweb.connection_status_${e}`,{downlink:t.downlink,downlinkMax:t.downlinkMax,effectiveType:t.effectiveType,rtt:t.rtt,saveData:t.saveData,type:t.type,isAuth:h})},t=t=>{t&&t.currentTarget&&e("change",t.currentTarget)};if(window.navigator&&window.navigator.connection){let{connection:n}=window.navigator;e("initial",n),n.addEventListener("change",t)}return()=>{if(window.navigator&&window.navigator.connection){let{connection:e}=window.navigator;e.removeEventListener("change",t)}}},[h]),!function(){let{isAuthenticated:e}=(0,H.B)(),t=(0,_.HG)();(0,s.useEffect)(()=>{if(!e)return;let n=t?oe.f$:oe.wQ,i=async e=>{let t=await (0,eX.Z)({url:"/v3/sessions/verify/",method:"PUT",data:{recaptcha_token:e}});(0,eQ.nP)("recaptcha_auth.done",{sampleRate:1,tags:{action:n,resp_code:t.status}})},o=()=>(0,oe.rY)(i,()=>{},n);"requestIdleCallback"in window?setTimeout(()=>{requestIdleCallback(o,{timeout:oe.oH-oe.OA})},oe.OA):setTimeout(o,oe.OA)},[e,t])}(),(0,s.useEffect)(()=>{(0,ik.RD)(e=>(0,nr.My)(e),S?"web":"mweb")},[S]),(0,s.useEffect)(()=>{let e=()=>(0,nr.qJ)(S?"auth_web_funnel":"mweb_funnel");return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}},[S]),(0,s.useEffect)(()=>{let e=()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize")),(0,eQ.nP)("webapp.UnifiedWWWApp.triggerResize",{sampleRate:1,tags:{handler:(0,oF.H)()}})},1e3),P({action:"trigger",item:window.innerHeight<window.innerWidth?"landscape-to-portrait":"portrait-to-landscape"})};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}},[P]),(0,T.jsx)(I.Z,{name:"WWWRoot",children:(0,T.jsx)(iT.Z,{children:(0,T.jsx)(iw.Z,{children:(0,T.jsx)(om.Z,{children:(0,T.jsx)(z,{children:(0,T.jsx)(oB,{children:(0,T.jsx)(iR.Z,{children:(0,T.jsxs)(iM.Z,{children:[(0,T.jsx)(iG,{children:(0,T.jsx)(ot.H,{children:(0,T.jsx)(oT.l,{children:(0,T.jsx)(oA.l,{children:(0,T.jsx)(oO.US,{children:(0,T.jsx)(oC,{children:(0,T.jsx)(od.C,{children:(0,T.jsx)(o_.t7,{children:(0,T.jsx)(iN.W,{children:(0,T.jsx)(iL.q,{children:(0,T.jsx)(iC.Wr,{children:(0,T.jsx)(iD.pb,{children:(0,T.jsx)(iA.of,{initialContext:t,children:(0,T.jsx)(i8.fr,{children:(0,T.jsx)(iX.p,{children:(0,T.jsx)(oN.w,{children:(0,T.jsx)(i$.X,{children:(0,T.jsx)(op.vo,{children:(0,T.jsx)(og.T,{children:(0,T.jsx)(ii.m,{children:(0,T.jsx)(iY,{children:(0,T.jsx)(ok,{children:(0,T.jsx)(ij.Z,{scrollOn:h&&"desktop"===n?"timeout":"animationFrame",children:(0,T.jsx)(os,{children:(0,T.jsx)(iV.w,{children:(0,T.jsx)(iP.A,{children:(0,T.jsx)(oy.Q,{children:(0,T.jsxs)(iZ.o$,{value:$,children:[(0,T.jsx)(iB,{isOffline:W}),(0,T.jsx)(iJ,{}),h&&(0,T.jsx)(L.Uv,{}),(0,T.jsx)(i2.Z,{children:(0,T.jsx)(oh.W,{children:e})}),k&&"unknown"!==k&&(0,T.jsx)(I.Z,{name:"SafeSuspense_MobileApp_TwaPinterestLite",children:(0,T.jsx)(o$,{})}),(0,T.jsx)(i3,{}),(0,T.jsx)(oD,{})]})})})})})})})})})})})})})})})})})})})})})})})})})})})}),(0,T.jsx)(iO.Z,{})]})})})})})})})})}var oY=n(242370);let oX=(0,k.Z)(()=>Promise.all([n.e("93111"),n.e("22843"),n.e("54787")]).then(n.bind(n,262825)),{ssr:!1});function oJ({children:e,context:t,copytuneExperiments:n,inContextTranslation:i,initialReduxState:o,pwaContext:p,requestContext:h,resourceCreator:_,traceLoggerData:m,store:g}){let{isAuthenticated:f,countryFromHostName:w,countryFromIp:b,regionFromIp:v,isInternalIP:y}=h,x=(0,ob.MM)(),{group:S}=(0,oY.DB)();(0,a.CS)({countryFromHostName:w||"",countryFromIp:b||"",regionFromIp:v||"",isAuthenticated:f}),(0,l.QT)({countryFromHostName:w||"",countryFromIp:b||"",regionFromIp:v||"",isAuthenticated:f});let{checkExperiment:E}=(0,r.F)();return c.Z.initExperiment(E),(0,s.useEffect)(()=>{(0,eQ.LY)("www.appWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:S,handler:x,isAuthenticated:f,isMobile:h.userAgent.isMobile||h.userAgent.isTablet}})},[]),(0,T.jsx)(u.Z,{context:t,copytuneExperiments:n,inContextTranslation:i,reduxStore:g,requestContext:h,resourceCreator:_,serverState:o,traceLoggerData:m,children:(0,T.jsx)(d.M,{initialState:{isAuthenticated:f,countryFromHostName:w,countryFromIp:b,regionFromIp:v},children:(0,T.jsxs)(oq,{pwaContext:p,children:[(0,T.jsx)(ig,{children:e}),y?(0,T.jsx)(oX,{}):null]})})})}},505758:function(e,t,n){n.d(t,{FT:()=>p,GW:()=>c,HW:()=>d,PX:()=>g,V3:()=>u,Wo:()=>h,XA:()=>k,bJ:()=>_,cZ:()=>S,dF:()=>x,f6:()=>P,jY:()=>T,k:()=>b,kV:()=>v,nP:()=>y,nY:()=>f,pg:()=>E,qc:()=>m,tR:()=>w});var i=n(865575),o=n(17929),s=n(680589),r=n(247387),a=n(925201),l=n(145626);let c="/branded-pins",u={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},d=(0,o.Z)({REQUESTED:0,APPROVED:1,REJECTED:2}),p=e=>{let t;switch(e){case u.PENDING:t=d.REQUESTED;break;case u.APPROVED:t=d.APPROVED;break;case u.DENIED:t=d.REJECTED;break;default:t=d.REQUESTED}return t},h={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},_=(e,t,n)=>{let i;let o={[h.APPROVED]:{icon:"workflow-status-ok",displayText:e._('Approved', 'brandedContentPinCard.footer.approvedIcon', 'Branded Pin card status text on bizhub widget'),color:"success"},[h.REJECTED]:{icon:"workflow-status-problem",displayText:e._('Denied', 'brandedContentPinCard.footer.deniedIcon', 'Branded Pin card status text on bizhub widget'),color:"error"},[h.ERROR]:{icon:"workflow-status-problem",displayText:e._('Try again', 'brandedContentPinCard.footer.errorIcon', 'Branded Pin card status text on bizhub widget'),color:"error"}};return 1===n&&(i=o.APPROVED),2===n&&(i=o.REJECTED),!0===t&&(i=o.ERROR),i},m=e=>{let t;return e===h.APPROVED?t=1:e===h.REJECTED&&(t=2),t},g=(e,t)=>(0,s.ZP)(e,t,"…",!0),f=`${l.C0}/branded-pins/`,w=(e,t)=>{let n=i.Z.create({entity:"campaign"});return e&&t?(0,a.Z)(r.auO+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):r.auO},b={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},v=302,y=420,x=254,S=142,E=173,P=12,k=35,T=9},508634:function(e,t,n){n.d(t,{Z:()=>l,i:()=>a});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useHook:a}=(0,o.Z)("ContentHeader");function l({children:e}){let[t,n]=(0,i.useState)(!1),o=(0,i.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n}),[t]);return(0,s.jsx)(r,{value:o,children:e})}},380108:function(e,t,n){n.d(t,{C:()=>i,Z:()=>s});let{Provider:i,useHook:o}=(0,n(213491).Z)("Header"),s=o},186485:function(e,t,n){n.d(t,{e:()=>i,p:()=>o});let{Provider:i,useHook:o}=(0,n(213491).Z)("headerButtonContext")},543380:function(e,t,n){n.d(t,{Z:()=>u});var i=n(883119),o=n(104999),s=n(138596),r=n(145626),a=n(462867),l=n(217616),c=n(785893);function u({isWwwSite:e=!0,onClick:t,url:n,size:u,defaultPaddingBasedOnSize:d,tooltip:p,onMouseDown:h}){let _=(0,s.ZP)(),m=(0,a.Z)(),g=(0,o.Z)(),{enabled:f}=(0,l.Z)(),w=e?"/":r.C0;m.partner&&(w=e?"/":r.Ag);let b=e&&n?n:w;return(0,c.jsx)(i.xu,{onMouseDown:h,children:(0,c.jsx)(i.I_,{accessibilityLabel:_._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),href:b,icon:"pinterest",iconColor:"brandPrimary",onClick:()=>{g({component:8,element:244,event_type:101}),t&&t()},padding:d?void 0:3,size:u||"xl",tabIndex:f?void 0:-1,tooltip:p})})}},424733:function(e,t,n){n.d(t,{Z:()=>i});let i=({username:e,isIdeaPinRenamingEnabled:t})=>({bag:"shop_pins",explore:"discover",home:"/",profile:e,search:"search",today:"today",create:t?"pin-creation-tool":"idea-pin-builder",ideas:"ideas",shopping:"shopping"})},626487:function(e,t,n){n.d(t,{Z:()=>i});let i=({pathname:e,iconRoutes:t})=>{if("/"===e||""===e)return"home";let n=e.split("/",2)[1];if(n&&t){for(let e of Object.keys(t))if(n===t[e])return e}return null}},63805:function(e,t,n){n.d(t,{H8:()=>h,Ut:()=>p,fr:()=>d});var i=n(667294),o=n(213491),s=n(17658),r=n(553734),a=n(785893);let l=()=>n.e("38938").then(n.bind(n,835802)),{Provider:c,useHook:u}=(0,o.Z)("IdeaPin");function d({children:e}){let[t,n]=(0,s.Z)(l,r.Z),o=(0,i.useMemo)(()=>({dispatch:n,ideaPin:t}),[n,t]);return(0,a.jsx)(c,{value:o,children:e})}function p(){let{dispatch:e}=u();return(0,i.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function h(){let{ideaPin:e}=u();return e}},553734:function(e,t,n){n.d(t,{Z:()=>i});let i={activePage:0,dynamicWidth:0}},92242:function(e,t,n){n.d(t,{H:()=>c,N:()=>l});var i=n(667294),o=n(213491),s=n(57887),r=n(785893);let{Provider:a,useHook:l}=(0,o.Z)("LastSavedTo");function c({children:e}){let[t,n]=(0,i.useState)();(0,s.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;n(t)}});let o=(0,i.useCallback)(e=>{let i=t?t.filter(t=>t.id!==e.id):[];n([e,...i])},[t]),l=(0,i.useMemo)(()=>({lastSavedTo:t,saveToBoard:o}),[t,o]);return(0,r.jsx)(a,{value:l,children:e})}},443643:function(e,t,n){n.d(t,{$:()=>s,J:()=>o});var i=n(883119);let o=new i.Ry(5),s=new i.Ry(1e3)},497491:function(e,t,n){n.d(t,{Z:()=>r});var i=n(616550),o=n(173874),s=n(739405);function r(){let e=(0,i.TH)();return"desktop"===(0,s.ZP)()?(0,o.mP)(e)||(0,o.hd)(e):(0,o.mP)(e)}},866729:function(e,t,n){n.d(t,{Z:()=>h});var i=n(616550),o=n(663952),s=n(173874),r=n(739405),a=n(95664),l=n(774838),c=n(575820),u=n(411657);let d=()=>{let e=(0,i.TH)(),t=(0,u.a)(),{userAgent:{raw:n}}=(0,l.B)();if(!t)return!1;let{appInstallBannerIsEnabled:o,pinPageGlobalContext:s}=t,r=!!(0,c.mB)(e.search).invite_code;return o&&!(0,a.$K)(n)&&!(s?.isStoryPin===!0&&r)},p=e=>e.pathname.includes("_created")||e.pathname.includes("boards")&&!(0,s.En)(e)||e.pathname.includes("_saved");function h(){let e=(0,r.ZP)(),t=(0,i.TH)(),n=(0,o.q)(),a=d();return"phone"===e?a&&!p(t)&&!n:"tablet"===e?!(0,s.En)(t)&&!(0,s.Xn)(t):!((0,s.Ni)(t)||(0,s.Xn)(t)||"/invited/"===t.pathname)}},26494:function(e,t,n){n.d(t,{$L:()=>p,P8:()=>h,nu:()=>u,wF:()=>d,wo:()=>c,ye:()=>_});var i=n(667294),o=n(611649),s=n(32e3),r=n(175584),a=n(739405),l=n(849371);let c=505586,u=1000109;function d(){let e=(0,o.Z)(!0),{onMouseDown:t,onNavigateToHomefeed:n}=(0,s.Z)(),c=(0,r.Z)(),u="desktop"===(0,a.ZP)()?"DESKTOP":"MOBILE",d=(0,i.useMemo)(()=>({currentSite:u}),[u]);return(0,i.useMemo)(()=>({currentSite:u,todayPathUrl:(0,l.tG)(),isIdeaPinRenamingEnabled:e,isTodayTabEligible:c,onMouseDownHomefeedPrefetch:t,onNavigateToHomefeedMousedownPrefetch:n,siteParametersProviderValue:d}),[u,e,c,t,n,d])}let p={today:{component:8,element:11674,event_type:101},createPin:{component:8,element:12969,event_type:101},createCollage:{component:8,element:13844,event_type:101}},h={PINTEREST_LOGO:"web.vertical_nav.pinterest_logo.click",HOME:"web.vertical_nav.home.click",TODAY:"web.vertical_nav.today.click",CREATE:"web.vertical_nav.create.click",NEWS:"web.vertical_nav.news.click",CONVERSATIONS:"web.vertical_nav.conversations.click",AVATAR:"web.vertical_nav.avatar.click",ACCOUNT_SWITCHER:"web.vertical_nav.account_switcher.click",MORE_OPTIONS_OPT_OUT:"web.vertical_nav.more_options.opt_out",MORE_OPTIONS:"web.vertical_nav.more_options.click"},_={PINTEREST_LOGO:"web.header.pinterest_logo.click",EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO:"web.header.external_button_query.pinterest_logo.click",SSO_PAGE_PINTEREST_LOGO:"web.header.sso_page.pinterest_logo.click",UNSUBSCRIBE_PAGE_PINTEREST_LOGO:"web.header.unsubscribe_page.pinterest_logo.click",HOME_TAB:"web.header.home_tab.click",TODAY_TAB:"web.header.today.click",CREATE_TAB:"web.header.create.click",HOME_BUTTON_COLLAPSED_TAB:"web.header.home_button_collapsed_tab.click",TODAY_TAB_COLLAPSED_TAB:"web.header.today_tab_collapsed_tab.click",CREATE_TAB_COLLAPSED_TAB:"web.header.create_tab_collapsed_tab.click",NEWS:"web.header.news.click",CONVERSATIONS:"web.header.conversations.click",AVATAR:"web.header.avatar.click",EXTERNAL_BUTTON_QUERY_AVATAR:"web.header.external_button_query.avatar.click",UNSUBSCRIBE_PAGE_AVATAR:"web.header.unsubscribe_page.avatar.click",ACCOUNT_OPTIONS:"web.header.account_options.click",EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS:"web.header.external_button_query.account_options.click"}},538937:function(e,t,n){n.d(t,{P:()=>l,n:()=>a});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useHook:a}=(0,o.Z)("ShowReferredAppUpsell");function l({children:e}){let[t,n]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)("other"),[u,d]=(0,i.useState)(""),p=(0,i.useCallback)(e=>{n(e)},[]),h=(0,i.useCallback)(e=>{a(e)},[]),_=(0,i.useCallback)(e=>{c(e)},[]),m=(0,i.useCallback)(e=>{d(e)},[]),g=(0,i.useMemo)(()=>({showReferredAppUpsell:t,setShowReferredAppUpsellVal:p,isInlineUpsell:o,setIsInlineUpsellVal:h,appUpsellType:l,setAppUpsellTypeVal:_,uiType:u,setUiTypeVal:m}),[t,p,o,h,l,_,u,m]);return(0,s.jsx)(r,{value:g,children:e})}},874288:function(e,t,n){n.d(t,{Z:()=>o});var i=n(581722);let o=()=>(0,i.v9)(({session:{canUseNativeApp:e}})=>e)},616870:function(e,t,n){n.d(t,{X:()=>l,m:()=>a});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useHook:a}=(0,o.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),o=(0,i.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:n}),[t]);return(0,s.jsx)(r,{value:o,children:e})}},307618:function(e,t,n){n.d(t,{w:()=>l,z:()=>a});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useMaybeHook:a}=(0,o.Z)("CloseupPreviewContext");function l({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),o=(0,i.useMemo)(()=>({setData:(e,t)=>n(n=>({...n,[e]:t})),getData:e=>t[e]}),[t]);return(0,s.jsx)(r,{value:o,children:e})}},82109:function(e,t,n){n.d(t,{A:()=>a,N:()=>l});var i=n(667294),o=n(213491),s=n(785893);let{Provider:r,useHook:a}=(0,o.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){let[n,o]=(0,i.useState)(t),a=(0,i.useMemo)(()=>({searchContext:n,updateSearchContext:o}),[n,o]);return(0,s.jsx)(r,{value:a,children:e})}},248481:function(e,t,n){n.d(t,{G3:()=>u,Rp:()=>c,kp:()=>a});var i=n(375181),o=n(447926),s=n(888226);let r=14*i.F4,a=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:!!(0,s.qn)("showedAppUpsellCurrentSession")}}();return e?function(e,t,n){let{currentTime:i,firstUpsellTime:s,lastUpsellTime:a,showedAppUpsellCurrentSession:l}=e;return(n=n||r,!s||i<s+t)?!l:i-a>n&&((0,o.L_)("firstUpsellTime"),!0)}(n,i.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||n-i>t}(n,t)},l=e=>{let t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},c=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(l(n))}catch(e){return!1}},u=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},278277:function(e,t,n){n.d(t,{C:()=>r,O:()=>s});var i=n(4533),o=n(34550);let s=()=>(0,o.M0)().getItem(i.Mi)??"",r=e=>{(0,o.M0)().setItem(i.Mi,e)}},250459:function(e,t,n){n.d(t,{Z:()=>s});var i=n(616550);let o=Object.freeze({"/:username":"profile","/:username/:slug/:section_slug":"board","/:username/:slug":"board","/csrf_error":"csrfError","/email_verification_error":"emailVerificationError","/email/remove":"emailRemove","/email/subscription":"emailSubscription","/ideas":"ideasRoot","/ideas/:interest/:id":"ideasHub","/invited":"invited","/password/reset":"passwordReset","/pin/:id":"pin","/pin/:id/feedback":"pinFeedBack","/pin/:id/sent":"pinFeedBack","/pin/:id/visual-search":"flashlight","/pin/create/:method":"pinBookmarklet","/pw/:username":"resetPasswordUsername","/panic/":"panic","/search/:scope":"search","/shopping":"shoppingRoot","/shopping/:category/:id":"shoppingCategory","/today":"todayTab","/today/:term/:title/:articleId":"todayArticleFeed","/today/popular/:interest/:interestId":"todayArticleInterestFeed","/tv":"LiveSessionEvent","/tv/:pin_id":"liveSessionCloseup","/unlink":"unlinkAccount","/videos":"videosRoot","/videos/:category/:id":"videosCategory"}),s=()=>{let{path:e}=(0,i.$B)();return o[e]||"unknown"}},818906:function(e,t,n){n.d(t,{$:()=>a,Z:()=>u});var i=n(4533),o=n(15881),s=n(34550),r=n(418282);let a=2,l=e=>e?.pins??[],c=e=>e.length?{pins:e}:null,u=()=>{let e=(0,s.M0)(),t=l(e.accessAllowed?e.getItem(i.s1):r.ZP.getItem(o.w3)),n=t=>e.accessAllowed?e.setItem(i.s1,c(t)):r.ZP.setItem(o.w3,c(t)),u=()=>t.length<a;return{pins:t,save:e=>{u()&&n(t.filter(({id:t})=>t!==e.id).concat([e]))},unsave:e=>n(t.filter(({id:t})=>t!==e)),isSaved:e=>t.some(({id:t})=>t===e),clear:()=>n([]),canSaveMore:u}}},722832:function(e,t,n){n.d(t,{Z:()=>o});var i=n(767415);let o=(e,t)=>(0,i.nP)(`pinner_conversion.upsell.mweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t})},658375:function(e,t,n){n.d(t,{C:()=>l,P:()=>a});var i=n(15881),o=n(173874),s=n(418282),r=n(767415);let a=()=>!!(0,s.Nl)().getItem(i.Ih),l=e=>{(0,o.LM)(e)&&!a()&&((0,s.Nl)().setItem(i.Ih,"1"),(0,r.nP)("mobile_signup_modal.rules.suppress_for_discover_article",{flushImmediate:!0,sampleRate:1}))}},15874:function(e,t,n){n.d(t,{RG:()=>m,o6:()=>_,t7:()=>h});var i=n(667294),o=n(616550),s=n(213491),r=n(575820),a=n(17658),l=n(575387),c=n(785893);let u=()=>n.e("91219").then(n.bind(n,799815)),{Provider:d,useHook:p}=(0,s.Z)("SkinToneFilter");function h({children:e}){let[t,n]=(0,a.Z)(u,l.Z),s=(0,o.TH)();(0,i.useEffect)(()=>{let e;if(((0,r.mB)(s.search)||{}).q){let t=s.pathname.split("/");e=t.length>2?t[2]:"pins"}e||n({type:"RESET_SKIN_TONE_QUERY_USES"})},[n,s]);let p=(0,i.useMemo)(()=>({dispatch:n,skinToneFilters:t}),[n,t]);return(0,c.jsx)(d,{value:p,children:e})}function _(){let{dispatch:e}=p();return(0,i.useMemo)(()=>({updateShowSkinToneFilters:t=>{e({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:t}})},updateSkinToneFilterQueryUses:t=>{e({type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:t}})},viewedOwnProfile:()=>e({type:"RESET_SKIN_TONE_QUERY_USES"})}),[e])}function m(){let{skinToneFilters:e}=p();return e}},575387:function(e,t,n){n.d(t,{Z:()=>i});let i={skinToneQueryUses:{numQueryUses:0,lastQuery:""},showSkinToneFilters:!1}},229103:function(e,t,n){n.d(t,{p:()=>i});let i=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},218504:function(e,t,n){n.d(t,{Cp:()=>m,GT:()=>c,V6:()=>a,W2:()=>d,W6:()=>g,_L:()=>_,fm:()=>l,hT:()=>u});var i=n(27399),o=n(178253),s=n(437578),r=n(233597);function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}let l=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function u(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}let d=(e,t,n)=>i=>{i({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},p=(e,t,n)=>i=>{i({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},h=e=>{let t=e.split(" ");return{first_name:t[0],last_name:t[1]}},_=({field:e,value:t,passcode:n,onSettingSavedHn:s,showErrorHn:a,surfaceTag:l,userId:c,passcodeSkipAcknowledged:u=!1,otp:_,onFinallyHn:m})=>async(g,f)=>{let w=f().users[c],b={user_id:c,surface_tag:l};if("full_name"===e){if(w.is_partner)b.business_name=t;else{let e=h(t);b.first_name=e.first_name,b.last_name=e.last_name||""}}else b[e]=t;n&&(b.passcode=n),o.i.includes(e)&&null!=u&&(b.user_confirm_skip_passcode=u),_&&(b.otp=_);try{let n=await i.Z.create("UserSettingsResource",b).callUpdate();if("email"===e&&n?.resource_response.data?.email_changing_to){a({email_changing_to:n.resource_response.data.email_changing_to});return}if("profile_image_url"===e)g((0,r.b)("UserResource",{options:b}));else if("full_name"===e){if(w.is_partner)g(d(c,"first_name",t));else{let e=h(t);g(d(c,"first_name",e.first_name)),g(d(c,"last_name",e.last_name))}}g(w.is_partner&&("account_type"===e||"contact_name"===e)?p(c,e,t):d(c,e,t)),s()}catch(e){a(e)}finally{m?.()}},m=(e,t,n,i,o,r,a)=>()=>{(0,s.Z)({new:t,new_confirm:n,old:e,passcode:i,recaptcha_v3_token:o}).then(r,a)},g=(e,t,n,o,s,r)=>a=>{a(d(e,`${t}.${n}`,o));let l={},c="EmailSettingsResource";void 0!==s?(l={section:t,option:n,value:o,od:s.od,user_id:s.user_id},c="UnsubEmailSettingsResource"):l={section:t,option:n,value:o},i.Z.create(c,l).callUpdate().then(r).catch(()=>a(d(e,`${t}.${n}`,!o)))}},812680:function(e,t,n){n.d(t,{$:()=>p,l:()=>h});var i=n(667294),o=n(27399),s=n(213491),r=n(739405),a=n(893957),l=n(462867),c=n(767415),u=n(785893);let{Provider:d,useHook:p}=(0,s.Z)("ShareSuggestions");function h({children:e}){let[t,n]=(0,i.useState)(void 0),s=(0,l.Z)(),p=!(0,r.HG)()&&!s.isLimitedLogin&&s.isAuth&&s.should_show_messaging;(0,a.Z)(()=>{let e=async()=>{let e=o.Z.create("ShareSuggestionsResource",{suggestion_type:"share",hide_group_conversations:!1});try{let t=(await e.callGet()).resource_response.data;n(t)}catch(e){(0,c.nP)("mweb_share_menu_load_suggestions.fail.share",{sampleRate:1})}};p&&!t&&e()});let h=(0,i.useCallback)(()=>{n(void 0)},[]),_=(0,i.useCallback)(e=>{n(e)},[]),m=(0,i.useMemo)(()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:h,updateCachedShareSuggestions:_}),[t,h,_]);return(0,u.jsx)(d,{value:m,children:e})}},721750:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)(void 0)},758594:function(e,t,n){n.d(t,{Z:()=>s});var i=n(667294),o=n(721750);function s({children:e,metricName:t}){return(0,i.useContext)(o.Z),e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/79076-ed6765b339edd937.mjs.map